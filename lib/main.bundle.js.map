{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/consts/GLOBALS.js","webpack:///./src/consts/REGEX.js","webpack:///./src/index.js","webpack:///./src/utilities/ComponentClass.js","webpack:///./src/utilities/arrayMods.js","webpack:///./src/utilities/clone.js","webpack:///./src/utilities/component.js","webpack:///./src/utilities/createElement.js","webpack:///./src/utilities/memoizeHTML.js","webpack:///./src/utilities/mountAll.js","webpack:///./src/utilities/r.js","webpack:///./src/utilities/radiMutate.js","webpack:///./src/utilities/setStyle.js","webpack:///./src/utilities/unmountAll.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;;ACnEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;;;;;;;;;;;;;;;ACrBA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACDA;AACgB;AACQ;AACJ;AACC;AACF;AACE;AACF;AACP;AACQ;AACA;AACF;;AAElB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,yBAAyB,SAAS;AAClC;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,qBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,cAAc,0CAA0C;AACxD;;AAEA;AACA;AACA;AACA;AACA,gCAAgC,iBAAiB,GAAG;AACpD;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA,yDAAyD;;AAEzD;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,aAAa;AAC9B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;;AAEA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,aAAa;AAChC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA,oBAAoB,wFAAuC;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,yBAAyB,SAAS;AAClC;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,+CAA+C,cAAc;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,uFAAsC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AC1tBe;AACG;AACF;;AAEhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEQ;;;;;;;;;;;;;;;ACpCR;AACA;AACA;AACA,aAAa,cAAc;AAC3B,cAAc,2BAA2B;AACzC,WAAW,wBAAwB;AACnC,aAAa,0BAA0B;AACvC,UAAU,uBAAuB;AACjC,YAAY;AACZ,GAAG;AACH;;;;;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;AC/BkB;AAClB;AACoB;;AAEpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,QAAQ,EAAE;AACV;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;AC1DA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACJkB;AACM;;AAExB;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA,mBAAmB,wBAAwB;AAC3C;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACPmB;AACG;AACL;AACE;AACD;;AAElB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;;;;;;;;;;;;;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACPgB;AACM;AACD;AACF;;AAEnB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACpCA;AACA;AACA;AACA,mBAAmB,wBAAwB;AAC3C;AACA;AACA;AACA","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","// export const REGISTERED = {};\r\n// export const MIX = {};\r\n// export let FROZEN_STATE = false;\r\n// export const RL = \"(\".charCodeAt(0);\r\n// export const RR = \")\".charCodeAt(0);\r\n// export let IDS = 0;\r\n// export const VERSION = \"0.1.8\";\r\n// export const ACTIVE_COMPONENTS = [];\r\n\r\nexport const GLOBALS = {\r\n  IDS: 0,\r\n  REGISTERED: {},\r\n  MIX: {},\r\n  FROZEN_STATE: false,\r\n  RL: \"(\".charCodeAt(0),\r\n  RR: \")\".charCodeAt(0),\r\n  IDS: 0,\r\n  VERSION: \"0.1.8\",\r\n  ACTIVE_COMPONENTS: [],\r\n  HTML_CACHE: {},\r\n  R_KEYS: 0\r\n};\r\n","export const COMMENTS = /(?:\\/\\*(?:[\\s\\S]*?)\\*\\/)|(?:^\\s*\\/\\/(?:.*)$)/gm;\r\nexport const FIND_L = /\\bl\\(/g;\r\n","import * as REGEX from \"./consts/REGEX\";\nimport { clone } from \"./utilities/clone\";\nimport { createElement } from \"./utilities/createElement\";\nimport { arrayMods } from \"./utilities/arrayMods\";\nimport { unmountAll } from \"./utilities/unmountAll\";\nimport { mountAll } from \"./utilities/mountAll\";\nimport { radiMutate } from \"./utilities/radiMutate\";\nimport { setStyle } from \"./utilities/setStyle\";\nimport { r } from \"./utilities/r\";\nimport { component } from \"./utilities/component\";\nimport { Component } from \"./utilities/ComponentClass\";\nimport { GLOBALS } from \"./consts/GLOBALS\";\n\nexport function isString(a) {\n  return typeof a === \"string\";\n}\n\nexport function isNumber(a) {\n  return typeof a === \"number\";\n}\n\nexport function isFunction(a) {\n  return typeof a === \"function\";\n}\n\nexport function isNode(a) {\n  return a && a.nodeType;\n}\n\nexport function isWatchable(a) {\n  return a && a instanceof NW;\n}\n\nexport function isCondition(a) {\n  return a && a instanceof Condition;\n}\n\nexport function isComponent(a) {\n  return a && a.__radi;\n}\n\nexport function ensureEl(parent) {\n  return isString(parent) ? html(parent) : getEl(parent);\n}\n\nexport function getEl(parent) {\n  return (\n    (parent.nodeType && parent) || (!parent.el && parent) || getEl(parent.el)\n  );\n}\n\nexport function text(str) {\n  return document.createTextNode(str);\n}\n\nexport const mount = function(comp, id) {\n  const where = id.constructor === String ? document.getElementById(id) : id;\n  var out = comp instanceof Component ? comp.__radi().$render() : comp;\n  where.appendChild(out);\n  return out;\n};\n\nvar emptyNode = text(\"\");\n\nexport const list = function(data, act) {\n  if (!data) return \"\";\n  var SELF = this;\n\n  var link,\n    fragment = document.createDocumentFragment(),\n    toplink = emptyNode.cloneNode();\n\n  fragment.appendChild(toplink);\n\n  var ret = [];\n  var cache = data.source[data.prop] || [];\n  var cacheLen = cache.length || 0;\n\n  if (Array.isArray(cache)) {\n    for (var i = 0; i < cacheLen; i++) {\n      fragment.appendChild(act.call(SELF, cache[i], i));\n    }\n  } else {\n    var i = 0;\n    for (var key in cache) {\n      fragment.appendChild(act.call(SELF, cache[key], key, i));\n      i++;\n    }\n  }\n\n  link = fragment.lastChild;\n\n  var w = function(a, b) {\n    if (a > 0) {\n      var len = b.length;\n      var start = len - a;\n      for (var i = start; i < len; i++) {\n        fragment.appendChild(act.call(SELF, b[i], i));\n      }\n      var temp = fragment.lastChild;\n      link.parentElement.insertBefore(fragment, link.nextSibling);\n      link = temp;\n    } else if (a < 0) {\n      for (var i = 0; i < Math.abs(a); i++) {\n        var templink = link.previousSibling;\n        link.parentElement.removeChild(link);\n        link = templink;\n      }\n    }\n  };\n\n  if (cache.__path) {\n    var len = cacheLen;\n    SELF.$e.on(cache.__path, function(e, v) {\n      w(v.length - len, v);\n      len = v.length;\n    });\n  }\n\n  return fragment;\n};\n\nfunction set(path, source, value) {\n  if (typeof path === \"string\") path = path.split(\".\");\n  path.shift();\n  var prop = path.splice(-1);\n  for (var i = 0; i < path.length; i++) {\n    source = source[path[i]];\n  }\n  return (source[prop] = value);\n}\n\nfunction NW(source, prop, parent) {\n  this.path = source.__path + \".\" + prop;\n  this.get = () => source[prop];\n  this.set = value => set(this.path.split(\".\"), parent(), value);\n  this.source = source;\n  this.prop = prop;\n  this.parent = parent;\n}\n\nvar linkNum = 0;\n\nexport const link = function(fn, watch, txt) {\n  var args = { s: null, a: [], t: [], f: fn.toString() },\n    SELF = this;\n\n  if (\n    txt.length === 1 &&\n    fn\n      .toString()\n      .replace(/(function \\(\\)\\{ return |\\(|\\)|\\; \\})/g, \"\")\n      .trim() === txt[0]\n  ) {\n    return new NW(watch[0][0], watch[0][1], function() {\n      return SELF;\n    });\n  }\n\n  var len = watch.length;\n\n  args.s = fn.call(this);\n  args.a = new Array(len);\n  args.t = new Array(len);\n  args.__path = \"$link-\" + linkNum;\n  linkNum += 1;\n\n  for (var i = 0; i < len; i++) {\n    args.a[i] = watch[i][0][watch[i][1]];\n    args.t[i] = \"$rdi[\" + i + \"]\";\n    args.f = args.f.replace(txt[i], args.t[i]);\n    // args.f = args.f.replace(new RegExp(txt[i], 'g'), args.t[i]);\n    (function(path, args, p, i) {\n      SELF.$e.on(path, (e, v) => {\n        args.a[i] = v;\n        var cache = args.f.call(SELF, args.a);\n\n        if (args.s !== cache) {\n          args.s = cache;\n          SELF.$e.emit(p, args.s);\n        }\n      });\n    })(watch[i][0].__path + \".\" + watch[i][1], args, args.__path + \".s\", i);\n  }\n\n  args.f = new Function(\"$rdi\", \"return \" + args.f + \"();\");\n\n  if (len <= 0) return args.s;\n  return new NW(args, \"s\", function() {\n    return SELF;\n  });\n};\n\nexport function cond(a, e) {\n  return new Condition(a, e, this);\n}\n\nfunction Condition(a, e, SELF) {\n  this.cases = [{ a: a, e: e }];\n  this.w = [];\n  this.cache = [];\n  this.els = emptyNode.cloneNode();\n\n  if (isWatchable(a)) {\n    this.w.push(a);\n  }\n\n  this.watch = function(cb) {\n    for (var w in this.w) {\n      (function(w) {\n        SELF.$e.on(this.w[w].path, (e, v) => {\n          cb(v);\n        });\n      }.call(this, w));\n    }\n  };\n\n  this.__do = function() {\n    var ret = { id: null };\n    for (var c in this.cases) {\n      var a = isWatchable(this.cases[c].a)\n        ? this.cases[c].a.get()\n        : this.cases[c].a;\n      if (a) {\n        ret.id = c;\n        ret.r = this.cases[c].e;\n        break;\n      }\n    }\n    if (typeof ret.r === \"undefined\") ret.r = this.els;\n    return ret;\n  };\n}\n\nCondition.prototype.elseif = function(a, e) {\n  this.cases.push({ a: a, e: e });\n  if (isWatchable(a)) {\n    this.w.push(a);\n  }\n  return this;\n};\n\nCondition.prototype.cond = Condition.prototype.elseif;\n\nCondition.prototype.else = function(e) {\n  this.els = e;\n  return this;\n};\n\nexport function ll(f, w, c) {\n  return w ? link.call(this, f, w, c.split(\",\")) : f;\n}\n\nconst _Radi = {\n  version: GLOBALS.VERSION,\n  activeComponents: GLOBALS.ACTIVE_COMPONENTS,\n  r: r,\n  l: f => f,\n  cond: cond,\n  component: component,\n  mount: mount,\n  freeze: () => {\n    GLOBALS.FROZEN_STATE = true;\n  },\n  unfreeze: () => {\n    GLOBALS.FROZEN_STATE = false;\n\n    for (var ii = 0; ii < GLOBALS.ACTIVE_COMPONENTS.length; ii++) {\n      if (typeof GLOBALS.ACTIVE_COMPONENTS[ii].onMount === \"function\") {\n        GLOBALS.ACTIVE_COMPONENTS[ii].onMount.call(\n          GLOBALS.ACTIVE_COMPONENTS[ii]\n        );\n      }\n    }\n  }\n};\n\nwindow.$Radi = _Radi;\n\nexport function register(c) {\n  var cmp = new c();\n  var n = cmp.o.name;\n  if (!n) {\n    console.warn(\"[Radi.js] Warn: Cannot register component without name\");\n  } else {\n    if (typeof GLOBALS.REGISTERED[n] !== \"undefined\")\n      console.warn(\n        \"[Radi.js] Warn: Component with name '\" + n + \"' beeing replaced\"\n      );\n    GLOBALS.REGISTERED[n] = c;\n  }\n}\n\nexport function Radi(o) {\n  var SELF = {\n    __path: \"this\"\n  };\n\n  // apply mixins\n  for (var i in o.$mixins) {\n    if (typeof SELF[i] === \"undefined\") {\n      SELF[i] = o.$mixins[i];\n    }\n  }\n\n  Object.defineProperties(SELF, {\n    $mixins: {\n      enumerable: false,\n      value: o.$mixins\n    },\n    $mixins_keys: {\n      enumerable: false,\n      value: new RegExp(\n        \"^this\\\\.(\" +\n          Object.keys(o.$mixins)\n            .join(\"|\")\n            .replace(/\\$/g, \"\\\\$\")\n            .replace(/\\./g, \"\\\\.\") +\n          \")\"\n      )\n    },\n    $e: {\n      enumerable: false,\n      value: {\n        WATCH: {},\n        get(path) {\n          return SELF.$e.WATCH[path] || (SELF.$e.WATCH[path] = []);\n        },\n        on(path, fn) {\n          if (GLOBALS.FROZEN_STATE) return null;\n          return SELF.$e.get(path).push(fn);\n        },\n        emit(path, r) {\n          if (GLOBALS.FROZEN_STATE) return null;\n          var list = SELF.$e.get(path),\n            len = list.length;\n          for (var i = 0; i < len; i++) {\n            list[i](path, r);\n          }\n        }\n      }\n    }\n  });\n\n  function populate(to, path) {\n    var ret;\n    if (typeof to !== \"object\" || !to) return false;\n    ret =\n      typeof to.__path === \"undefined\"\n        ? Object.defineProperty(to, \"__path\", { value: path })\n        : false;\n    for (var ii in to) {\n      var isMixin = SELF.$mixins_keys.test(path + \".\" + ii);\n      if (\n        to.hasOwnProperty(ii) &&\n        !Object.getOwnPropertyDescriptor(to, ii).set\n      ) {\n        if (typeof to[ii] === \"object\") populate(to[ii], path + \".\" + ii);\n        // Initiate watcher if not already watched\n        watcher(to, ii, path.concat(\".\").concat(ii));\n        // Trigger changes for this path\n        SELF.$e.emit(path + \".\" + ii, to[ii]);\n      } else if (isMixin) {\n        watcher(to, ii, path.concat(\".\").concat(ii));\n      }\n    }\n    return ret;\n  }\n\n  // TODO: Bring back multiple watcher sets\n  var dsc = Object.getOwnPropertyDescriptor;\n  function watcher(targ, prop, path) {\n    var oldval = targ[prop],\n      prev =\n        typeof dsc(targ, prop) !== \"undefined\" ? dsc(targ, prop).set : null,\n      setter = function(newval) {\n        if (oldval !== newval) {\n          if (Array.isArray(oldval)) {\n            var ret;\n            if (this && this.constructor === String) {\n              ret = Array.prototype[this].apply(oldval, arguments);\n            } else {\n              oldval = newval;\n              arrayMods(oldval, setter);\n            }\n\n            populate(oldval, path);\n            SELF.$e.emit(path, oldval);\n            if (typeof prev === \"function\") prev(newval);\n            return ret;\n          } else if (typeof newval === \"object\") {\n            oldval = clone(newval);\n            populate(oldval, path);\n            SELF.$e.emit(path, oldval);\n          } else {\n            oldval = newval;\n            populate(oldval, path);\n            SELF.$e.emit(path, oldval);\n          }\n          if (typeof prev === \"function\") prev(newval);\n          return newval;\n        } else {\n          return false;\n        }\n      };\n\n    if (Array.isArray(oldval)) arrayMods(oldval, setter);\n\n    if (delete targ[prop]) {\n      Object.defineProperty(targ, prop, {\n        get: function() {\n          return oldval;\n        },\n        set: setter,\n        enumerable: true,\n        configurable: true\n      });\n    }\n  }\n\n  for (var i in o.state) {\n    if (typeof SELF[i] === \"undefined\") {\n      SELF[i] = o.state[i];\n    } else {\n      throw new Error(\n        \"[Radi.js] Err: Trying to write state for reserved variable `\" + i + \"`\"\n      );\n    }\n  }\n\n  for (var i in o.props) {\n    if (typeof SELF[i] === \"undefined\") {\n      if (isWatchable(o.props[i])) {\n        SELF[i] = o.props[i].get();\n\n        if (o.props[i].parent) {\n          o.props[i].parent().$e.on(o.props[i].path, (e, a) => {\n            SELF[i] = a;\n          });\n        }\n      } else {\n        SELF[i] = o.props[i];\n      }\n    } else {\n      throw new Error(\n        \"[Radi.js] Err: Trying to write prop for reserved variable `\" + i + \"`\"\n      );\n    }\n  }\n\n  populate(SELF, \"this\");\n\n  for (var i in o.actions) {\n    if (typeof SELF[i] === \"undefined\") {\n      SELF[i] = function() {\n        if (GLOBALS.FROZEN_STATE) return null;\n        return o.actions[this].apply(SELF, arguments);\n      }.bind(i);\n    } else {\n      throw new Error(\n        \"[Radi.js] Error: Trying to write action for reserved variable `\" +\n          i +\n          \"`\"\n      );\n    }\n  }\n\n  Object.defineProperties(SELF, {\n    $id: {\n      enumerable: false,\n      value: GLOBALS.IDS++\n    },\n    $name: {\n      enumerable: false,\n      value: o.name\n    },\n    $state: {\n      enumerable: false,\n      value: o.state || {}\n    },\n    $props: {\n      enumerable: false,\n      value: o.props || {}\n    },\n    $actions: {\n      enumerable: false,\n      value: o.actions || {}\n    },\n    $html: {\n      enumerable: false,\n      value: document.createDocumentFragment()\n    },\n    $parent: {\n      enumerable: false,\n      value: null\n    },\n    $view: {\n      enumerable: false,\n      value: new Function(\"r\", \"list\", \"ll\", \"cond\", \"return \" + o.$view)(\n        r.bind(SELF),\n        list.bind(SELF),\n        ll.bind(SELF),\n        cond.bind(SELF)\n      )\n    },\n    $render: {\n      enumerable: false,\n      value: function() {\n        SELF.mount();\n        return SELF.$html;\n      }\n    }\n  });\n\n  Object.defineProperties(SELF, {\n    $link: {\n      enumerable: false,\n      value: SELF.$view()\n    }\n  });\n\n  SELF.$html.appendChild(SELF.$link);\n\n  SELF.$html.destroy = function() {\n    const oldRootElem = SELF.$link.parentElement;\n    const newRootElem = oldRootElem.cloneNode(false);\n    oldRootElem.parentNode.insertBefore(newRootElem, oldRootElem);\n    SELF.unmount();\n    oldRootElem.parentNode.removeChild(oldRootElem);\n  };\n\n  SELF.mount = function() {\n    if (typeof SELF.$actions.onMount === \"function\") {\n      SELF.$actions.onMount.call(SELF);\n    }\n    GLOBALS.ACTIVE_COMPONENTS.push(SELF);\n  };\n\n  SELF.unmount = function() {\n    if (typeof SELF.$actions.onDestroy === \"function\") {\n      SELF.$actions.onDestroy.call(SELF);\n    }\n    for (var i = 0; i < GLOBALS.ACTIVE_COMPONENTS.length; i++) {\n      if (GLOBALS.ACTIVE_COMPONENTS[i].$id === SELF.$id) {\n        GLOBALS.ACTIVE_COMPONENTS.splice(i, 1);\n        break;\n      }\n    }\n    return SELF.$link;\n  };\n\n  SELF.$link.unmount = SELF.unmount.bind(SELF);\n  SELF.$link.mount = SELF.mount.bind(SELF);\n\n  return SELF;\n}\n\nexport function setAttr(view, arg1, arg2) {\n  var self = this;\n  var el = getEl(view);\n\n  if (arg2 !== undefined) {\n    if (arg1 === \"style\") {\n      setStyle.call(this, el, arg2);\n    } else if (arg1 === \"model\" && isWatchable(arg2)) {\n      var cache = arg2.get();\n      el.value = cache;\n      el[\"oninput\"] = function() {\n        arg2.set(el.value);\n        cache = el.value;\n        self.$e.emit(arg2.path, el.value);\n      };\n      // Update bind\n      (function(cache, arg1, arg2) {\n        self.$e.on(arg2.path, function(e, v) {\n          if (v === cache) return false;\n          radiMutate(\n            () => {\n              el.value = v;\n            },\n            el.key,\n            \"attr1\"\n          );\n          cache = v;\n        });\n      })(cache, arg1, arg2);\n    } else if (isFunction(arg2)) {\n      el[arg1] = function(e) {\n        arg2.call(self, e);\n      };\n    } else if (isWatchable(arg2)) {\n      var temp = arg2.get();\n      if (isFunction(temp)) {\n        el[arg1] = function(e) {\n          arg2.get().call(self, e);\n        };\n      } else {\n        var cache = arg2.get();\n        if (cache !== false)\n          if (arg1 === \"html\") {\n            el.innerHTML = cache;\n          } else {\n            el.setAttribute(arg1, cache);\n          }\n\n        // Update bind\n        (function(cache, arg1, arg2) {\n          self.$e.on(arg2.path, function(e, v) {\n            if (v === cache) return false;\n            radiMutate(\n              () => {\n                if (v !== false) {\n                  if (arg1 === \"html\") {\n                    el.innerHTML = v;\n                  } else {\n                    el.setAttribute(arg1, v);\n                  }\n                } else {\n                  el.removeAttribute(arg1);\n                }\n              },\n              el.key,\n              \"attr2\"\n            );\n            cache = v;\n          });\n        })(cache, arg1, arg2);\n      }\n    } else {\n      if (cache !== false)\n        if (arg1 === \"html\") {\n          el.innerHTML = arg2;\n        } else {\n          el.setAttribute(arg1, arg2);\n        }\n    }\n  } else {\n    for (var key in arg1) {\n      setAttr.call(this, el, key, arg1[key]);\n    }\n  }\n}\n\nexport function radiArgs(element, args) {\n  const self = this;\n\n  args.forEach((arg, i) => {\n    if (!arg) return;\n\n    // support middleware\n    if (isComponent(arg)) {\n      element.appendChild(arg.__radi().$render());\n    } else if (isCondition(arg)) {\n      var arg2 = arg.__do(),\n        a,\n        id = arg2.id;\n      if (isComponent(arg2.r)) {\n        a = arg2.r.__radi().$render();\n      } else if (typeof arg2.r === \"function\") {\n        a = arg2.r();\n      } else if (isString(arg2.r) || isNumber(arg2.r)) {\n        a = text(arg2.r);\n      } else {\n        a = arg2.r;\n      }\n      element.appendChild(a);\n      afterAppendChild(arg, id, a);\n    } else if (typeof arg === \"function\") {\n      debugger;\n      arg.call(this, element);\n    } else if (isString(arg) || isNumber(arg)) {\n      element.appendChild(text(arg));\n    } else if (isNode(getEl(arg))) {\n      element.appendChild(arg);\n    } else if (Array.isArray(arg)) {\n      radiArgs.call(this, element, arg);\n    } else if (isWatchable(arg)) {\n      var cache = arg.get();\n      var z = text(cache);\n      element.appendChild(z);\n\n      // Update bind\n      updateBind(self, z, element)(cache, arg);\n    } else if (typeof arg === \"object\") {\n      setAttr.call(this, element, arg);\n    }\n  });\n}\n\nexport const afterAppendChild = (arg, id, a) => {\n  arg.watch(function(v) {\n    const arg2 = arg.__do();\n    let b = null;\n\n    if (id === arg2.id) return false;\n    if (isComponent(arg2.r)) {\n      b = arg2.r.__radi().$render();\n    } else if (typeof arg2.r === \"function\") {\n      b = arg2.r();\n    } else if (isString(arg2.r) || isNumber(arg2.r)) {\n      b = text(arg2.r);\n    } else {\n      b = arg2.r;\n    }\n\n    unmountAll(a);\n    a.parentNode.replaceChild(b, a);\n    a = b;\n    mountAll(a);\n    id = arg2.id;\n  });\n};\n\nexport const updateBind = (self, z, element) => (cache, arg) => {\n  self.$e.on(arg.path, updateBundInnerFn(cache, z, element));\n};\n\n// TODO: Rename and understand.\nconst updateBundInnerFn = (cache, z, element) => (e, v) => {\n  if (v === cache) return false;\n\n  cache = v;\n\n  radiMutate(\n    () => {\n      z.textContent = v;\n    },\n    element.key,\n    \"text\"\n  );\n};\n","import { Radi } from \"../index\";\r\nimport { GLOBALS } from \"../consts/GLOBALS\";\r\nimport { clone } from \"./clone\";\r\n\r\nfunction Component(o) {\r\n  this.o = {\r\n    name: o.name,\r\n    state: clone(o.state),\r\n    props: clone(o.props),\r\n    actions: o.actions,\r\n    view: o.view,\r\n    $view: o.$view,\r\n    $mixins: this.$mixins || {}\r\n  };\r\n\r\n  this.__radi = function() {\r\n    return new Radi(this.o);\r\n  };\r\n}\r\n\r\nComponent.prototype.props = function props(p) {\r\n  for (var k in p) {\r\n    if (typeof this.o.props[k] === \"undefined\") {\r\n      console.warn(\r\n        \"[Radi.js] Warn: Creating a prop `\",\r\n        k,\r\n        \"` that is not defined in component\"\r\n      );\r\n    }\r\n    this.o.props[k] = p[k];\r\n  }\r\n  return this;\r\n};\r\n\r\nComponent.prototype.$mixins = {};\r\n\r\nexport { Component };\r\n","export const arrayMods = (v, s) => {\r\n  if (!Array.isArray(v) || v.__radi) return false;\r\n  return Object.defineProperties(v, {\r\n    __radi: { value: true },\r\n    reverse: { value: s.bind(\"reverse\") },\r\n    push: { value: s.bind(\"push\") },\r\n    splice: { value: s.bind(\"splice\") },\r\n    pop: { value: s.bind(\"pop\") },\r\n    shift: { value: s.bind(\"shift\") }\r\n  });\r\n};\r\n","export const clone = obj => {\r\n  let i, ret, ret2;\r\n  if (typeof obj === \"object\") {\r\n    if (obj === null) return obj;\r\n    if (Object.prototype.toString.call(obj) === \"[object Array]\") {\r\n      let len = obj.length;\r\n      ret = new Array(len);\r\n      for (i = 0; i < len; i++) {\r\n        if (typeof obj[i] === \"object\") {\r\n          ret[i] = clone(obj[i]);\r\n        } else {\r\n          ret[i] = obj[i];\r\n        }\r\n      }\r\n    } else {\r\n      ret = {};\r\n      for (i in obj) {\r\n        if (obj.hasOwnProperty(i)) {\r\n          if (typeof (obj[i] === \"object\")) {\r\n            ret[i] = clone(obj[i]);\r\n          } else {\r\n            ret[i] = obj[i];\r\n          }\r\n        }\r\n      }\r\n    }\r\n  } else {\r\n    ret = obj;\r\n  }\r\n\r\n  return ret;\r\n};\r\n","import { GLOBALS } from \"../consts/GLOBALS\";\r\nimport * as REGEX from \"../consts/REGEX\";\r\nimport { Component } from \"./ComponentClass\";\r\n\r\nexport function component(o) {\r\n  var fn = o.view.toString().replace(REGEX.COMMENTS, \"\"),\r\n    match = REGEX.FIND_L.exec(fn),\r\n    cursor = 0;\r\n  o.$view = \"\";\r\n\r\n  while (match !== null) {\r\n    var n = match.index,\r\n      all = match.input,\r\n      _l = 1,\r\n      _r = 0;\r\n\r\n    const len = all.length;\r\n\r\n    for (var i = n + 2; i < len; i++) {\r\n      var char = all.charCodeAt(i);\r\n      if (char === GLOBALS.RL) {\r\n        _l += 1;\r\n      } else if (char === GLOBALS.RR) {\r\n        _r += 1;\r\n      }\r\n      if (_l === _r) break;\r\n    }\r\n\r\n    var found = all.substr(n, i + 1 - n);\r\n\r\n    var m = found.match(/[a-zA-Z_$]+(?:\\.[a-zA-Z_$]+(?:\\[.*\\])?)+/g) || [];\r\n    // var obs = (m.length > 0) ? m.join('__ob__,') + '__ob__' : '';\r\n    var obs = [];\r\n    for (var i = 0; i < m.length; i++) {\r\n      var temp = m[i].split(\".\");\r\n      if (temp.length > 1) {\r\n        var last = temp.splice(-1)[0];\r\n        obs.push(\"[\" + temp.join(\".\") + ', \"' + last + '\"]');\r\n      }\r\n    }\r\n    var obs = obs.join(\",\");\r\n    var newString =\r\n      \"ll(function(){ return \" +\r\n      found.substr(1) +\r\n      \"; },[\" +\r\n      obs +\r\n      '], \"' +\r\n      m.join(\",\") +\r\n      '\")';\r\n\r\n    o.$view = o.$view.concat(fn.substr(cursor, n - cursor)).concat(newString);\r\n    cursor = n + found.length;\r\n\r\n    match = REGEX.FIND_L.exec(fn);\r\n  }\r\n  o.$view = o.$view.concat(fn.substr(cursor, fn.length - cursor));\r\n\r\n  return Component.bind(this, o);\r\n}\r\n","export const createElement = (query, ns) => {\r\n  return ns\r\n    ? document.createElementNS(ns, query)\r\n    : document.createElement(query);\r\n};\r\n","import { GLOBALS } from \"../consts/GLOBALS\";\r\nimport { createElement } from \"./createElement\";\r\n\r\nexport const memoizeHTML = query => {\r\n  return (\r\n    GLOBALS.HTML_CACHE[query] ||\r\n    (GLOBALS.HTML_CACHE[query] = createElement(query))\r\n  );\r\n};\r\n","export const mountAll = el => {\r\n  if (typeof el.mount === \"function\") el.mount();\r\n  if (el.children && el.children.length > 0) {\r\n    for (var i = 0; i < el.children.length; i++) {\r\n      mountAll(el.children[i]);\r\n    }\r\n  }\r\n};\r\n","import { isString } from \"../index\";\r\nimport { memoizeHTML } from \"./memoizeHTML\";\r\nimport { isNode } from \"../index\";\r\nimport { radiArgs } from \"../index\";\r\nimport { GLOBALS } from \"../consts/GLOBALS\";\r\n\r\nexport function r(query) {\r\n  var args = [],\r\n    len = arguments.length - 1;\r\n  while (len-- > 0) args[len] = arguments[len + 1];\r\n\r\n  var element;\r\n\r\n  if (isString(query)) {\r\n    if (typeof GLOBALS.REGISTERED[query] !== \"undefined\") {\r\n      // TODO: Make props and childs looped,\r\n      // aka don't assume that first obj are props\r\n      var props = args[0] || {};\r\n      return (element = new GLOBALS.REGISTERED[query]().props(props));\r\n    } else {\r\n      element = memoizeHTML(query).cloneNode(false);\r\n    }\r\n  } else if (isNode(query)) {\r\n    element = query.cloneNode(false);\r\n  } else {\r\n    element = document.createDocumentFragment();\r\n  }\r\n\r\n  element.key = GLOBALS.R_KEYS;\r\n  GLOBALS.R_KEYS += 1;\r\n\r\n  radiArgs.call(this, element, args);\r\n\r\n  return element;\r\n}\r\n\r\nr.extend = function(query) {\r\n  var args = [],\r\n    len = arguments.length - 1;\r\n  while (len-- > 0) args[len] = arguments[len + 1];\r\n\r\n  var clone = memoizeHTML(query);\r\n\r\n  return r.bind.apply(r, [this, clone].concat(args));\r\n};\r\n","export const radiMutate = (c, key, type) => {\r\n  c();\r\n  // if (!lock) {\r\n  // \tpipeline[key + '-' + type] = c\r\n  // \tif (!pipequeued) setTimeout(render)\r\n  // \tpipequeued = true\r\n  // }\r\n};\r\n","import { getEl } from \"../index\";\r\nimport { isWatchable } from \"../index\";\r\nimport { radiMutate } from \"./radiMutate\";\r\nimport { isString } from \"../index\";\r\n\r\nexport const setStyle = (view, arg1, arg2) => {\r\n  var self = this;\r\n  var el = getEl(view);\r\n\r\n  if (isWatchable(arg2)) {\r\n    var cache = arg2.get();\r\n    el.style[arg1] = cache;\r\n\r\n    // Update bind\r\n    (function(cache, arg1, arg2) {\r\n      self.$e.on(arg2.path, function(e, v) {\r\n        if (v === cache) return false;\r\n        radiMutate(\r\n          () => {\r\n            el.style[arg1] = v;\r\n          },\r\n          el.key,\r\n          \"style\"\r\n        );\r\n        cache = v;\r\n      });\r\n    })(cache, arg1, arg2);\r\n  } else if (arg2 !== undefined) {\r\n    el.style[arg1] = arg2;\r\n  } else if (isString(arg1)) {\r\n    el.setAttribute(\"style\", arg1);\r\n  } else {\r\n    for (var key in arg1) {\r\n      setStyle.call(this, el, key, arg1[key]);\r\n    }\r\n  }\r\n};\r\n","export const unmountAll = el => {\r\n  if (typeof el.unmount === \"function\") el.unmount();\r\n  if (el.children && el.children.length > 0) {\r\n    for (var i = 0; i < el.children.length; i++) {\r\n      unmountAll(el.children[i]);\r\n    }\r\n  }\r\n};\r\n"],"sourceRoot":""}