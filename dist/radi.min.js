var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,d,e){b!=Array.prototype&&b!=Object.prototype&&(b[d]=e.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var b=0;return function(d){return $jscomp.SYMBOL_PREFIX+(d||"")+b++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(b){var d=0;return $jscomp.iteratorPrototype(function(){return d<b.length?{done:!1,value:b[d++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};$jscomp.makeIterator=function(b){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var d=b[Symbol.iterator];return d?d.call(b):$jscomp.arrayIterator(b)};$jscomp.arrayFromIterator=function(b){for(var d,e=[];!(d=b.next()).done;)e.push(d.value);return e};$jscomp.arrayFromIterable=function(b){return b instanceof Array?b:$jscomp.arrayFromIterator($jscomp.makeIterator(b))};
$jscomp.polyfill=function(b,d,e,f){if(d){e=$jscomp.global;b=b.split(".");for(f=0;f<b.length-1;f++){var k=b[f];k in e||(e[k]={});e=e[k]}b=b[b.length-1];f=e[b];d=d(f);d!=f&&null!=d&&$jscomp.defineProperty(e,b,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Number.isNaN",function(b){return b?b:function(b){return"number"===typeof b&&isNaN(b)}},"es6","es3");$jscomp.owns=function(b,d){return Object.prototype.hasOwnProperty.call(b,d)};
$jscomp.assign="function"==typeof Object.assign?Object.assign:function(b,d){for(var e=1;e<arguments.length;e++){var f=arguments[e];if(f)for(var k in f)$jscomp.owns(f,k)&&(b[k]=f[k])}return b};$jscomp.polyfill("Object.assign",function(b){return b||$jscomp.assign},"es6","es3");
$jscomp.polyfill("Array.from",function(b){return b?b:function(b,e,f){$jscomp.initSymbolIterator();e=null!=e?e:function(b){return b};var d=[],l=b[Symbol.iterator];if("function"==typeof l)for(b=l.call(b);!(l=b.next()).done;)d.push(e.call(f,l.value));else{l=b.length;for(var n=0;n<l;n++)d.push(e.call(f,b[n]))}return d}},"es6","es3");$jscomp.polyfill("Object.values",function(b){return b?b:function(b){var d=[],f;for(f in b)$jscomp.owns(b,f)&&d.push(b[f]);return d}},"es8","es3");
(function(b,d){"object"===typeof exports&&"undefined"!==typeof module?d():"function"===typeof define&&define.amd?define(d):d()})(this,function(){var b={},d=!1,e={},f=function(a,c){for(var m=[],b=1;b<arguments.length;++b)m[b-1]=arguments[b];this.component=a;this.key=$jscomp.makeIterator(m).next().value;this.childPath=m.slice(1,m.length);this.value=null;this.changeListeners=[];this.processValue=function(a){return a};this.component.addListener(this.key,this);this.handleUpdate(this.component[this.key])};
f.prototype.handleUpdate=function(a){var c=this;this.value=this.processValue(this.getShallowValue(a),this.value);this.changeListeners.forEach(function(a){return a(c.value)})};f.prototype.onValueChange=function(a){this.changeListeners.push(a);a(this.value)};f.prototype.process=function(a){this.processValue=a;this.handleUpdate(this.value);return this};f.prototype.getShallowValue=function(a){if(!this.childPath)return a;for(var c=$jscomp.makeIterator(this.childPath),b=c.next();!b.done;b=c.next())a=a[b.value];
return a};var k=function(a){var c=a.listener,b=a.element;this.attributeKey=a.attributeKey;this.listener=c;this.element=b;this.attached=!1;this.handleValueChange=this.handleValueChange.bind(this)};k.prototype.attach=function(){var a=this;this.element.attributeListeners||(this.element.attributeListeners=[]);this.element.attributeListeners.push(this);this.listener.onValueChange(this.handleValueChange);this.attached=!0;"model"===this.attributeKey&&(/(checkbox|radio)/.test(this.element.getAttribute("type"))?
this.element.onchange=function(c){a.listener.component[a.listener.key]=c.target.checked}:this.element.oninput=function(c){a.listener.component[a.listener.key]=c.target.value});return this};k.prototype.handleValueChange=function(a){if("value"===this.attributeKey||"model"===this.attributeKey)/(checkbox|radio)/.test(this.element.getAttribute("type"))?this.element.checked=a:this.element.value=a;else{var c={};x(this.element,(c[this.attributeKey]=a,c))}};k.prototype.updateElement=function(a){return this.element=
a};var l=function(a){var c=a.listener,b=a.element;this.styleKey=a.styleKey;this.listener=c;this.element=b;this.attached=!1;this.handleValueChange=this.handleValueChange.bind(this)};l.prototype.attach=function(){this.element.styleListeners||(this.element.styleListeners=[]);this.element.styleListeners.push(this);this.listener.onValueChange(this.handleValueChange);this.attached=!0;return this};l.prototype.handleValueChange=function(a){n(this.element,this.styleKey,a)};l.prototype.updateElement=function(a){return this.element=
a};var n=function(a,c,b){if("undefined"!==typeof b){if(b instanceof f)return(new l({styleKey:c,listener:b,element:a})).attach(),a[c];a=a.style;b="number"!==typeof b||Number.isNaN(b)?b:b+"px";return a[c]=b}},x=function(a,c){for(var b in c){var g=c[b];if("undefined"!==typeof g)if(g||"number"===typeof g)if("style"===b){var d=void 0,e=a;"string"===typeof g&&(e.style=g);if("object"===typeof g&&!Array.isArray(g))if(g instanceof f)(new k({attributeKey:"style",listener:g,element:e})).attach();else for(d in g)n(e,
d,g[d])}else g instanceof f?(new k({attributeKey:b,listener:g,element:a})).attach():"on"===b.substring(0,2).toLowerCase()?a[b]=g:a.setAttribute(b,g);else a.removeAttribute(b)}},q=function(a){if("object"!==typeof a||null===a)return a;if(Array.isArray(a))return a.map(q);var c={},b;for(b in a)a.hasOwnProperty(b)&&(c[b]=q(a[b]));return c},A=function(){for(var a="",c=0;32>c;c++){var b=16*Math.random()|0;if(8===c||12===c||16===c||20===c)a+="-";a+=(12===c?4:16===c?b&3|8:b).toString(16)}return a},t=function(a){this.component=
a;this.html=document.createDocumentFragment();this.node={}};t.prototype.render=function(){var a=this;this.html.appendChild(this.node=this.component.$view);this.html.destroy=this.node.destroy=function(){return a.component.destroy()};return this.html};t.prototype.destroyHtml=function(){var a=this;this.node.childNodes&&this.node.childNodes.forEach(function(c){a.node.removeChild(c)});this.html.childNodes&&this.html.childNodes.forEach(function(c){a.html.removeChild(c)});this.html=document.createDocumentFragment();
return this.node={}};var p=function(){this.store={}};p.prototype.setItem=function(a,c){"undefined"===typeof this.store[a]&&this.createItemWrapper(a);this.store[a].value=c;this.triggerListeners(a);return c};p.prototype.getItem=function(a){return this.store[a].value};p.prototype.addListener=function(a,c){"undefined"===typeof this.store[a]&&this.createItemWrapper(a);this.store[a].listeners.push(c);c.handleUpdate(this.store[a].value);return c};p.prototype.createItemWrapper=function(a){return this.store[a]=
{listeners:[],value:null}};p.prototype.triggerListeners=function(a){var c=this.store[a];c.listeners.forEach(function(a){return a.handleUpdate(c.value)})};var h=function(a,c){this.name=a.name;this.addNonEnumerableProperties(Object.assign({$id:A(),$mixins:a.mixins||{},$state:q(a.state||{}),$props:q(a.props||{}),$actions:a.actions||{},$privateStore:new p}));this.addCustomField("children",[]);c&&this.setChildren(c);this.copyObjToInstance(this.$mixins);this.copyObjToInstance(this.$state);this.copyObjToInstance(this.$props);
this.copyObjToInstance(b);this.copyObjToInstance(this.$actions,this.handleAction.bind(this));this.addNonEnumerableProperties({$view:a.view?a.view(this):function(){return function(){return null}},$renderer:new t(this)});this.$view.unmount=this.unmount.bind(this);this.$view.mount=this.mount.bind(this)};h.prototype.copyObjToInstance=function(a,c){c=void 0===c?function(a){return a}:c;for(var b in a){if("undefined"!==typeof this[b])throw Error("[Radi.js] Error: Trying to write for reserved variable `"+
b+"`");this.addCustomField(b,c(a[b]))}};h.prototype.handleAction=function(a){var c=this;return function(b){for(var g=[],m=0;m<arguments.length;++m)g[m-0]=arguments[m];return d?null:a.bind(c).apply(null,[].concat($jscomp.arrayFromIterable(g)))}};h.prototype.setProps=function(a){for(var c in a)this.$props[c]=a[c],"undefined"===typeof this.$props[c]?(console.warn("[Radi.js] Warn: Creating a prop `"+c+"` that is not defined in component"),this.addCustomField(c,a[c])):this[c]=a[c];return this};h.prototype.setChildren=
function(a){this.children=a;return this};h.prototype.addNonEnumerableProperties=function(a){for(var c in a)"undefined"===typeof this[c]&&Object.defineProperty(this,c,{value:a[c]})};h.prototype.addCustomField=function(a,c){var b=this;Object.defineProperty(this,a,{get:function(){return b.$privateStore.getItem(a)},set:function(c){return b.$privateStore.setItem(a,c)},enumerable:!0});this[a]=c};h.prototype.addListener=function(a,c){this.$privateStore.addListener(a,c)};h.prototype.isMixin=function(a){return"undefined"!==
typeof this.$mixins[a]};h.prototype.mount=function(){if("function"===typeof this.$actions.onMount)this.$actions.onMount(this);e[this.$id]=this};h.prototype.unmount=function(){if("function"===typeof this.$actions.onDestroy)this.$actions.onDestroy(this);delete e[this.$id]};h.prototype.render=function(){this.mount();return this.$renderer.render()};h.prototype.destroy=function(){this.unmount();return this.$renderer.destroyHtml()};h.isComponent=function(){return!0};var B=function(a){return Array.isArray(a)?
a:[a]},y=function(a){if(a instanceof DocumentFragment)return Array.from(a.childNodes).map(function(a){var c=a;a=c.cloneNode(!0);a.remove();return c});var c=document.createDocumentFragment();u(c,B(a));return y(c)},r=function(a){var c=a.element;this.listener=a.listener;this.element=c;this.listenerAsNode=[];this.attached=!1;this.handleValueChange=this.handleValueChange.bind(this)};r.prototype.attach=function(){this.element.listeners||(this.element.listeners=[]);this.element.listeners.push(this);this.listener.onValueChange(this.handleValueChange);
this.attached=!0;return this};r.prototype.handleValueChange=function(a){a=y(a);for(var c=$jscomp.makeIterator(a),b=c.next();!b.done;b=c.next())b=b.value,this.listenerAsNode[0]?this.element.insertBefore(b,this.listenerAsNode[0]):this.element.appendChild(b);c=$jscomp.makeIterator(this.listenerAsNode);for(b=c.next();!b.done;b=c.next()){b=b.value;for(var d=document.createTreeWalker(b,NodeFilter.SHOW_ELEMENT,function(a){return a&&"function"===typeof a.destroy},!1),e;e=d.nextNode();)e.destroy();b.remove()}this.listenerAsNode=
a};r.prototype.updateElement=function(a){return this.element=a};var v=function(a){return function(b){b||"number"===typeof b||(b="");if(b instanceof h)a.appendChild(b.render());else if(b instanceof f)(new r({listener:b,element:a})).attach();else if(Array.isArray(b))u(a,b);else if("function"===typeof b){var c=document.createElement("div"),d=a.appendChild(c);b().then(function(a){"function"===typeof a.default&&a.default.isComponent&&a.default.isComponent()?v(d)(new a.default):v(d)(a.default)}).catch(function(){})}else b instanceof
Node?a.appendChild(b):a.appendChild(document.createTextNode(b))}},u=function(a,b){b.forEach(v(a))},z=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];return new (Function.prototype.bind.apply(f,[null].concat([a],$jscomp.arrayFromIterable(c))))},C=function(){Object.values(e).forEach(function(a){if("function"===typeof a.onMount)a.onMount(a)})},w={version:"0.2.3",activeComponents:e,r:function(a,b,d){for(var c=[],e=2;e<arguments.length;++e)c[e-2]=arguments[e];if("function"===
typeof a.isComponent&&a.isComponent())return(new a(c)).setProps(b||{});if("function"===typeof a)return e=b||{},e.children=c,a(e);"string"===typeof a?e=document.createElement(a):(console.warn("[Radi.js] Warn: Creating a JSX element whose query is not of type string, automatically converting query to string."),e=document.createElement(a.toString()));null!==b&&x(e,b);u(e,c);return e},listen:z,l:z,component:function(a){var b=function(b){return new h(a,b)};b.isComponent=function(){return!0};return b},
headless:function(a,c){c=new c;c.mount();return b["$".concat(a)]=c},mount:function(a,b){b="string"===typeof b?document.getElementById(b):b;a=a instanceof h?a.render():a;b.appendChild(a);return a},freeze:function(){d=!0},unfreeze:function(){d=!1;C()},plugin:function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];return a.apply(null,[].concat([w],$jscomp.arrayFromIterable(c)))}};window&&(window.$Radi=w);module.exports=w});
