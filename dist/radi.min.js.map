{"version":3,"sources":["dist/radi.js"],"names":["global","factory","exports","module","define","amd","radi","this","STRIP_COMMENTS","FIND_L","RL","charCodeAt","RR","HASH","DOT","frozenState","_op","Object","prototype","isObject","o","__proto__","isArray","Array","clone","obj","i","ret","toString","call","len","length","hasOwnProperty","defineProperties","relocate","configurable","enumerable","value","what","wit","key","end","change","Radi","constructor","populateOne","writable","arrayRules","item","def","bucket","a","v","l1","arr","apply","arguments","l2","diff","_r_set","_r_get","cb","push","pop","splice","shift","unshift","reverse","ii","__r","watchable","populate","data","prop","Watchable","temp","watch","c","watcher","p","prev","next","get","dsc","getOwnPropertyDescriptor","targ","handler","set","createElement","query","ns","ref","tag","id","className","mode","buffer","char","isHash","isDot","parseQuery","element","document","createElementNS","setAttribute","arg","ids","activeComponents","[object Object]","state","props","actions","view","$id","$this","SELF","k","Error","isWatchable","act","$name","name","$state","$props","$actions","$html","createDocumentFragment","$view","Function","r","bind","list","l","cond","$link","Component","appendChild","destroy","oldRootElem","parentElement","newRootElem","cloneNode","parentNode","insertBefore","unmount","removeChild","mount","onMount","onDestroy","remount","link","out","unmountAll","el","children","setStyle","arg1","arg2","getEl","style","undefined","isString","setAttr","self","isFunction","e","parent","nodeType","isNumber","isNode","isCondition","Condition","isComponent","__radi","text","str","createTextNode","radiArgs","args","__do","b","replaceChild","z","htmlCache","memoizeHTML","extend","concat","console","warn","emptyNode","fragment","toplink","inst","lastChild","w","nextSibling","Math","abs","templink","previousSibling","fn","txt","n","s","f","replace","trim","cases","els","elseif","else","split","version","component","match","exec","output","cursor","index","all","input","_l","_r","found","substr","m","obs","join","newString","comp","where","String","getElementById","use","plug","window","freeze","unfreeze"],"mappings":"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","sourcesContent":["(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.radi = {})));\n}(this, (function (exports) { 'use strict';\n\nconst version = '0.0.4';\n\nvar STRIP_COMMENTS = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg;\nvar FIND_L = /\\bl\\(/g;\n\nvar RL = '('.charCodeAt(0);\nvar RR = ')'.charCodeAt(0);\nvar HASH = '#'.charCodeAt(0);\nvar DOT = '.'.charCodeAt(0);\n\nvar TAGNAME = 0;\nvar ID = 1;\nvar CLASSNAME = 2;\n\nvar frozenState = false;\n\nvar _op = Object.prototype;\nvar isObject = function (o) { return o && o.__proto__ === _op };\nvar isArray = function (o) { return Array.isArray(o) === true };\n\nfunction clone(obj) {\n\tvar i, ret;\n\tif (typeof obj === \"object\") {\n\t\tif (obj === null) return obj;\n\t\tif (Object.prototype.toString.call(obj) === \"[object Array]\") {\n\t\t\tvar len = obj.length;\n\t\t\tret = new Array(len);\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tif (typeof obj[i] === \"object\") {\n\t\t\t\t\tret[i] = clone(obj[i]);\n\t\t\t\t} else {\n\t\t\t\t\tret[i] = obj[i];\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tret = {};\n\t\t\tfor (i in obj) {\n\t\t\t\tif (obj.hasOwnProperty(i)) {\n\t\t\t\t\tif (typeof(obj[i] === \"object\")) {\n\t\t\t\t\t\tret[i] = clone(obj[i]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tret[i] = obj[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tret = obj;\n\t}\n\n\treturn ret;\n}\n\nObject.defineProperties(Object, {\n\trelocate: {\n\t\tconfigurable: true,\n\t\tenumerable: false,\n\t\tvalue: function relocate(what, wit) {\n\t\t\tfor (var key in wit) {\n\t\t\t\tconst end = wit[key];\n\t\t\t\tvar change = false;\n\t\t\t\tif (end && typeof end === 'object' && !(end instanceof Radi)) {\n\t\t\t\t\tif (typeof what[key] === 'undefined') what[key] = end.constructor();\n\t\t\t\t\tObject.relocate(what[key], end);\n\t\t\t\t\tchange = true;\n\t\t\t\t} else {\n\t\t\t\t\tif (what[key] !== end) {\n\t\t\t\t\t\tchange = true;\n\t\t\t\t\t\twhat[key] = end;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (change) populateOne(what, key);\n\t\t\t}\n\t\t},\n\t\twritable: true\n\t}\n});\n\nvar arrayProxy = function arrayProxy() {\n\tvar l1 = this[0].length,\n\t\t\tarr = clone(this[0]),\n\t\t\t// arr = this[0],\n\t\t\tret = Array.prototype[this[1]].apply(arr, arguments),\n\t\t\tl2 = arr.length,\n\t\t\tdiff = l2 - l1;\n\n\tthis[0].length = l2;\n\n\tif (diff < 0) {\n\t\tfor (var i = l1; i > l1 + diff; i--) {\n\t\t\tdelete this[0][(i-1)+'__ob__'];\n\t\t\tdelete this[0][(i-1)];\n\t\t}\n\t}\n\n\tObject.relocate(this[0], arr);\n\n\tif (diff !== 0) {\n\t\tthis[0]._r_set(diff, this[0]);\n\t}\n\n\treturn ret\n};\n\nvar arrayRules = function arrayRules(item, def) {\n\t// TODO: Creaete _r_set loop with array of bucket\n\t// var bucket = []\n\tvar bucket = () => {},\n\t\ta = (v) => ({ value: function () { return arrayProxy.apply([this, v], arguments) } });\n\tdef._r_set = { value: function (v) { if (frozenState) return false; bucket(v, item); } };\n\tdef._r_get = { value: function (cb) { bucket = cb; } };\n\tdef.push = a('push');\n\tdef.pop = a('pop');\n\tdef.splice = a('splice');\n\tdef.shift = a('shift');\n\tdef.unshift = a('unshift');\n\tdef.reverse = a('reverse');\n};\n\nvar populateOne = function populateOne(item, ii) {\n\tif (typeof item[ii + '__ob__'] !== 'undefined') return false\n\n\tvar def = { __r: { value: true } };\n\n\t// If input is an Array\n\tif (isArray(item) && typeof item.__r === 'undefined' && !item.__r) {\n\t\tarrayRules(item, def);\n\t}\n\n\tdef[ii + '__ob__'] = { value: watchable(item, ii), configurable: true };\n\n\tif (typeof item[ii] === 'object') populate(item[ii]);\n\n\treturn Object.defineProperties(item, def)\n};\n\n// Add watchers to every object and array\nvar populate = function populate(item) {\n\tif (item && typeof item === 'object') {\n\t\tvar def = { __r: { value: true } };\n\n\t\t// If input is an Array\n\t\tif (isArray(item)) {\n\t\t\tif (typeof item.__r === 'undefined' && !item.__r) {\n\t\t\t\tarrayRules(item, def);\n\t\t\t}\n\n\t\t\tfor (var ii in item) {\n\t\t\t\t// Add watchable\n\t\t\t\t// Should not be able to reconfigure this\n\t\t\t\tif (typeof item[ii + '__ob__'] === 'undefined') {\n\t\t\t\t\tdef[ii + '__ob__'] = { value: watchable(item, ii), configurable: true };\n\t\t\t\t\tpopulate(item[ii]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else\n\t\t// If input is an Object\n\t\tif (isObject(item)) {\n\n\t\t\tfor (var ii in item) {\n\t\t\t\t// Add watchable\n\t\t\t\t// Should not be able to reconfigure this\n\t\t\t\tif (typeof item[ii + '__ob__'] === 'undefined') {\n\t\t\t\t\tdef[ii + '__ob__'] = { value: watchable(item, ii), configurable: true };\n\t\t\t\t\tpopulate(item[ii]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t\treturn Object.defineProperties(item, def)\n\t} else { return false }\n};\n\nvar watchable = function (data, prop) { return new Watchable(data, prop) };\n\nvar Watchable = function Watchable (data, prop) {\n\tvar temp = data;\n\n\tthis.watch = function watch (c) {\n\t\twatcher(temp, prop, (p, prev, next) => {\n\t\t\tc(next, prev);\n\t\t\treturn next\n\t\t});\n\t};\n\n\tthis.prop = prop;\n\tthis.data = function data () {\n\t\treturn temp\n\t};\n\n\tthis.get = function get () {\n\t\treturn temp[prop]\n\t};\n};\n\nvar dsc = Object.getOwnPropertyDescriptor;\nvar watcher = function watcher(targ, prop, handler) {\n\tvar oldval = targ[prop],\n\t\tprev = (typeof dsc(targ, prop) !== 'undefined') ? dsc(targ, prop).set : null,\n\t\tsetter = function (newval) {\n\t\t\tif (frozenState) return false\n\t\t\tif (oldval !== newval) {\n\t\t\t\tif (isObject(newval)) {\n\n\t\t\t\t\tObject.relocate(oldval, newval);\n\t\t\t\t} else\n\t\t\t\tif (isArray(newval)) {\n\t\t\t\t\tvar diff = newval.length - oldval.length;\n\t\t\t\t\toldval.length = newval.length;\n\n\t\t\t\t\tObject.relocate(oldval, newval);\n\t\t\t\t\tnewval = diff;\n\t\t\t\t} else {\n\t\t\t\t\toldval = newval;\n\t\t\t\t}\n\t\t\t\tif (typeof prev === 'function') prev(newval);\n\t\t\t\thandler.call(targ, prop, oldval, newval);\n\t\t\t} else {\n\t\t\t\treturn false\n\t\t\t}\n\t\t};\n\n\tif (delete targ[prop]) {\n\t\tObject.defineProperty(targ, prop, {\n\t\t\tget: function () {\n\t\t\t\treturn oldval;\n\t\t\t},\n\t\t\tset: setter,\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true\n\t\t});\n\t}\n};\n\n\nvar parseQuery = function (query) {\n\tvar tag = null;\n\tvar id = null;\n\tvar className = null;\n\tvar mode = TAGNAME;\n\tvar buffer = '';\n\n\tfor (var i = 0; i <= query.length; i++) {\n\t\tvar char = query.charCodeAt(i);\n\t\tvar isHash = char === HASH;\n\t\tvar isDot = char === DOT;\n\t\tvar isEnd = !char;\n\n\t\tif (isHash || isDot || isEnd) {\n\t\t\tif (mode === TAGNAME) {\n\t\t\t\tif (i === 0) {\n\t\t\t\t\ttag = 'div';\n\t\t\t\t} else {\n\t\t\t\t\ttag = buffer;\n\t\t\t\t}\n\t\t\t} else if (mode === ID) {\n\t\t\t\tid = buffer;\n\t\t\t} else {\n\t\t\t\tif (className) {\n\t\t\t\t\tclassName += ' ' + buffer;\n\t\t\t\t} else {\n\t\t\t\t\tclassName = buffer;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (isHash) {\n\t\t\t\tmode = ID;\n\t\t\t} else if (isDot) {\n\t\t\t\tmode = CLASSNAME;\n\t\t\t}\n\n\t\t\tbuffer = '';\n\t\t} else {\n\t\t\tbuffer += query[i];\n\t\t}\n\t}\n\n\treturn { tag: tag, id: id, className: className };\n};\n\nvar createElement = function (query, ns) {\n\tvar ref = parseQuery(query);\n\tvar tag = ref.tag;\n\tvar id = ref.id;\n\tvar className = ref.className;\n\tvar element = ns ? document.createElementNS(ns, tag) : document.createElement(tag);\n\n\tif (id) {\n\t\telement.id = id;\n\t}\n\n\tif (className) {\n\t\tif (ns) {\n\t\t\telement.setAttribute('class', className);\n\t\t} else {\n\t\t\telement.className = className;\n\t\t}\n\t}\n\n\treturn element;\n};\n\nif (!Array.isArray) {\n\tArray.isArray = function(arg) {\n\t\treturn Object.prototype.toString.call(arg) === '[object Array]';\n\t};\n}\n\n\nvar ids = 0;\nconst activeComponents = [];\n\nclass Radi {\n\tconstructor(o) {\n\t\tvar state = o.state || {},\n\t\t\tprops = o.props || {},\n\t\t\tactions = o.actions || {},\n\t\t\tview = o.view;\n\n\t\tthis.$id = ids++;\n\n\t\tthis.$this = {};\n\t\tvar SELF = this.$this;\n\n\t\tfor (var k in state) {\n\t\t\tif (typeof SELF[k] === 'undefined') {\n\t\t\t\tSELF[k] = state[k];\n\t\t\t} else {\n\t\t\t\tthrow new Error('[Radi.js] Err: Trying to write state for reserved variable `' + k + '`');\n\t\t\t}\n\t\t}\n\n\t\tfor (var k in props) {\n\t\t\tif (typeof SELF[k] === 'undefined') {\n\t\t\t\tif (isWatchable(props[k])) {\n\t\t\t\t\tSELF[k] = props[k].get();\n\t\t\t\t\tprops[k].watch(function (a) {\n\t\t\t\t\t\tSELF[k] = a;\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tSELF[k] = props[k];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthrow new Error('[Radi.js] Err: Trying to write prop for reserved variable `' + k + '`');\n\t\t\t}\n\t\t}\n\n\t\tpopulate(SELF);\n\t\tfor (var k in actions) {\n\t\t\tif (typeof SELF[k] === 'undefined') {\n\t\t\t\tconst act = actions[k];\n\t\t\t\tSELF[k] = function () { return (frozenState) ? function () {} : act.apply(SELF, arguments) };\n\n\t\t\t\t(function(SELF, k) {\n\t\t\t\t\tObject.defineProperty(SELF[k], 'props', {\n\t\t\t\t\t\tvalue() {\n\t\t\t\t\t\t\tvar args = arguments;\n\t\t\t\t\t\t\treturn function () { return (frozenState) ? function () {} : SELF[k].apply(SELF, args, arguments) }\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t})(SELF, k);\n\t\t\t} else {\n\t\t\t\tthrow new Error('[Radi.js] Error: Trying to write action for reserved variable `' + k + '`');\n\t\t\t}\n\t\t}\n\n\t\tSELF.$id = this.$id;\n\t\tSELF.$name = o.name;\n\t\tSELF.$state = state;\n\t\tSELF.$props = props;\n\t\tSELF.$actions = actions;\n\t\t// SELF.$data = data;\n\n\t\tthis.$html = document.createDocumentFragment();\n\n\t\tthis.$view = new Function(\n\t\t\t'r',\n\t\t\t'list',\n\t\t\t'l',\n\t\t\t'cond',\n\t\t\t// 'return ' + output\n\t\t\t'return ' + o.$view\n\t\t)(\n\t\t\tr.bind(SELF),\n\t\t\tlist.bind(SELF),\n\t\t\tl.bind(SELF),\n\t\t\tcond.bind(SELF)\n\t\t);\n\n\t\t// console.log(this.$view);\n\n\t\tthis.$link = this.$view.apply(SELF);\n\n\t\tif (this.$link instanceof Component || Array.isArray(this.$link)) {\n\t\t\tthis.$link = r.call(SELF, null, this.$link);\n\t\t}\n\t\tthis.$html.appendChild(this.$link);\n\n\t\tthis.$html.destroy = (function () {\n\t\t\tconst oldRootElem = this.$link.parentElement;\n\t\t\tconst newRootElem = oldRootElem.cloneNode(false);\n\t\t\toldRootElem.parentNode.insertBefore(newRootElem, oldRootElem);\n\t\t\tthis.unmount();\n\t\t\toldRootElem.parentNode.removeChild(oldRootElem);\n\t\t}).bind(this);\n\n\t\tthis.mount = function () {\n\t\t\tif (typeof actions.onMount === 'function') {\n\t\t\t\tactions.onMount.call(SELF);\n\t\t\t}\n\t\t\tactiveComponents.push(this);\n\t\t};\n\n\t\tthis.unmount = function () {\n\t\t\tif (typeof actions.onDestroy === 'function') {\n\t\t\t\tactions.onDestroy.call(SELF);\n\t\t\t}\n\t\t\tfor (var i = 0; i < activeComponents.length; i++) {\n\t\t\t\tif (activeComponents[i].$id === this.$id) {\n\t\t\t\t\tactiveComponents.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.$link;\n\t\t};\n\n\t\tthis.$link.unmount = this.unmount.bind(this);\n\t}\n\n\tget remount() {\n\t\tthis.mount();\n\t\treturn this.link;\n\t}\n\n\tget out() {\n\t\tthis.mount();\n\t\treturn this.$html;\n\t}\n}\n\nvar unmountAll = function unmountAll(el) {\n\tif (typeof el.unmount === 'function') el.unmount();\n\tif (el.children && el.children.length > 0) {\n\t\tfor (var i = 0; i < el.children.length; i++) {\n\t\t\tunmountAll(el.children[i]);\n\t\t}\n\t}\n};\n\nvar radiMutate = function (c) {\n\t// window.requestAnimationFrame(() => {\n\t\t// window.requestAnimationFrame(() => {\n\t\t\tc();\n\t\t// });\n\t// });\n};\n\nvar setStyle = function (view, arg1, arg2) {\n\tvar el = getEl(view);\n\n\tif (isWatchable(arg2)) {\n\t\tel.style[arg1] = arg2.get();\n\t\t// Update bind\n\t\targ2.watch((a) => {\n\t\t\tradiMutate(() => {\n\t\t\t\tel.style[arg1] = a;\n\t\t\t});\n\t\t});\n\t} else if (arg2 !== undefined) {\n\t\tel.style[arg1] = arg2;\n\t} else if (isString(arg1)) {\n\t\tel.setAttribute('style', arg1);\n\t} else {\n\t\tfor (var key in arg1) {\n\t\t\tsetStyle(el, key, arg1[key]);\n\t\t}\n\t}\n};\n\nvar setAttr = function (view, arg1, arg2) {\n\tvar self = this;\n\tvar el = getEl(view);\n\n\tif (arg2 !== undefined) {\n\t\tif (arg1 === 'style') {\n\t\t\tsetStyle(el, arg2);\n\t\t} else if (arg1 === 'model' && isWatchable(arg2)) {\n\t\t\tel.value = arg2.get();\n\t\t\tel['oninput'] = function () { arg2.data()[arg2.prop] = el.value; };\n\t\t\targ2.watch(function (a) {\n\t\t\t\tradiMutate(() => {\n\t\t\t\t\tel.value = a;\n\t\t\t\t});\n\t\t\t});\n\t\t} else if (isFunction(arg2)) {\n\t\t\tel[arg1] = function (e) { arg2.call(self, e); };\n\t\t} else if (isWatchable(arg2)) {\n\t\t\tel.setAttribute(arg1, arg2.get());\n\t\t\t// Update bind\n\t\t\targ2.watch(function (a) {\n\t\t\t\tradiMutate(() => {\n\t\t\t\t\tel.setAttribute(arg1, a);\n\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\tel.setAttribute(arg1, arg2);\n\t\t}\n\t} else {\n\t\tfor (var key in arg1) {\n\t\t\tsetAttr.call(this, el, key, arg1[key]);\n\t\t}\n\t}\n};\n\nvar getEl = function (parent) { return (parent.nodeType && parent) || (!parent.el && parent) || getEl(parent.el); };\n\nvar isString = function (a) { return typeof a === 'string'; };\nvar isNumber = function (a) { return typeof a === 'number'; };\nvar isFunction = function (a) { return typeof a === 'function'; };\n\nvar isNode = function (a) { return a && a.nodeType; };\nvar isWatchable = function (a) { return a && a instanceof Watchable; };\nvar isCondition = function (a) { return a && a instanceof Condition; };\nvar isComponent = function (a) { return a && a.__radi; };\n\nconst text = function (str) { return document.createTextNode(str); };\n\nvar radiArgs = function (element, args) {\n\tfor (var i = 0; i < args.length; i++) {\n\t\tvar arg = args[i];\n\n\t\tif (arg !== 0 && !arg) {\n\t\t\tcontinue;\n\t\t}\n\n\t\t// support middleware\n\t\tif (isComponent(arg)) {\n\t\t\telement.appendChild(arg.__radi().out);\n\t\t} else if (isCondition(arg)) {\n\t\t\tvar arg2 = arg.__do(), a, id = arg2.id;\n\t\t\tif (isComponent(arg2.r)) {\n\t\t\t\ta = arg2.r.__radi().out;\n\t\t\t} else if (typeof arg2.r === 'function') {\n\t\t\t\ta = arg2.r();\n\t\t\t} else if (isString(arg2.r) || isNumber(arg2.r)) {\n\t\t\t\ta = text(arg2.r);\n\t\t\t} else {\n\t\t\t\ta = arg2.r;\n\t\t\t}\n\t\t\telement.appendChild(a);\n\t\t\t(function(arg){arg.watch(function(v) {\n\t\t\t\tvar arg2 = arg.__do(), b;\n\t\t\t\tif (id === arg2.id) return false\n\t\t\t\tif (isComponent(arg2.r)) {\n\t\t\t\t\tb = arg2.r.__radi().out;\n\t\t\t\t} else if (typeof arg2.r === 'function') {\n\t\t\t\t\tb = arg2.r();\n\t\t\t\t} else if (isString(arg2.r) || isNumber(arg2.r)) {\n\t\t\t\t\tb = text(arg2.r);\n\t\t\t\t} else {\n\t\t\t\t\tb = arg2.r;\n\t\t\t\t}\n\t\t\t\tunmountAll(a);\n\t\t\t\ta.parentNode.replaceChild(b, a);\n\t\t\t\ta = b;\n\t\t\t\tid = arg2.id;\n\t\t\t});})(arg);\n\t\t} else if (typeof arg === 'function') {\n\t\t\targ.call(this, element);\n\t\t} else if (isString(arg) || isNumber(arg)) {\n\t\t\telement.appendChild(text(arg));\n\t\t} else if (isNode(getEl(arg))) {\n\t\t\telement.appendChild(arg);\n\t\t} else if (Array.isArray(arg)) {\n\t\t\tradiArgs.call(this, element, arg);\n\t\t} else if (isWatchable(arg)) {\n\t\t\tlet z = text(arg.get());\n\t\t\telement.appendChild(z);\n\t\t\t// Update bind\n\t\t\targ.watch(function (a) {\n\t\t\t\tradiMutate(() => {\n\t\t\t\t\tz.textContent = a;\n\t\t\t\t});\n\t\t\t});\n\t\t} else if (typeof arg === 'object') {\n\t\t\tsetAttr.call(this, element, arg);\n\t\t}\n\n\t}\n};\n\nvar htmlCache = {};\n\nvar memoizeHTML = function (query) { return htmlCache[query] || (htmlCache[query] = createElement(query)); };\n\nconst r = function (query) {\n\tvar args = [], len = arguments.length - 1;\n\twhile ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n\tvar element;\n\n\tif (isString(query)) {\n\t\telement = memoizeHTML(query).cloneNode(false);\n\t} else if (isNode(query)) {\n\t\telement = query.cloneNode(false);\n\t} else {\n\t\telement = document.createDocumentFragment();\n\t}\n\n\tradiArgs.call(this, element, args);\n\n\treturn element;\n};\nr.extend = function (query) {\n\tvar args = [], len = arguments.length - 1;\n\twhile ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n\tvar clone = memoizeHTML(query);\n\n\treturn r.bind.apply(r, [ this, clone ].concat( args ));\n};\n\nconst component = function (o) {\n\tvar fn = o.view.toString().replace(STRIP_COMMENTS, '');\n\tvar match = FIND_L.exec(fn);\n\tvar output = [];\n\tvar cursor = 0;\n\n\twhile (match !== null) {\n\t\tvar n = match.index,\n\t\t\tall = match.input,\n\t\t\t_l = 1,\n\t\t\t_r = 0;\n\n\t\tconst len = all.length;\n\n\t\tfor (var i = n + 2; i < len; i++) {\n\t\t\tvar char = all.charCodeAt(i);\n\t\t\tif (char === RL) {\n\t\t\t\t_l += 1;\n\t\t\t} else\n\t\t\tif (char === RR) {\n\t\t\t\t_r += 1;\n\t\t\t}\n\t\t\tif (_l === _r) break;\n\t\t}\n\n\t\tvar found = all.substr(n, i + 1 - n);\n\n\t\tvar m = found.match(/[a-zA-Z_$]+(?:\\.\\w+(?:\\[.*\\])?)+/g) || [];\n\t\tvar obs = (m.length > 0) ? m.join('__ob__,') + '__ob__' : '';\n\t\tvar newString = 'l(function(){ return ' + found.substr(1) + '; },[' + obs + '], \"' + m.join(',') + '\")';\n\n\t\toutput.push(fn.substr(cursor, n - cursor));\n\t\toutput.push(newString);\n\t\tcursor = n + found.length;\n\n\t\tmatch = FIND_L.exec(fn);\n\t}\n\toutput.push(fn.substr(cursor, fn.length - cursor));\n\to.$view = output.join('');\n\n\treturn Component.bind(this, o);\n};\nvar Component = function Component (o) {\n\tthis.o = {\n\t\tname: o.name,\n\t\tstate: clone(o.state),\n\t\tprops: clone(o.props),\n\t\tactions: o.actions,\n\t\tview: o.view,\n\t\t$view: o.$view,\n\t};\n\n\tthis.__radi = function() { return new Radi(this.o); };\n};\nComponent.prototype.props = function props (p) {\n\tfor (var k in p) {\n\t\tif (typeof this.o.props[k] === 'undefined') {\n\t\t\tconsole.warn('[Radi.js] Warn: Creating a prop `', k, '` that is not defined in component');\n\t\t}\n\t\tthis.o.props[k] = p[k];\n\t}\n\treturn this;\n};\n\nconst mount = function (comp, id) {\n\tconst where = (id.constructor === String) ? document.getElementById(id) : id;\n\tvar out = (comp instanceof Component) ? comp.__radi().out : comp;\n\twhere.appendChild(out);\n\treturn out;\n};\n\nvar emptyNode = text('');\n\nconst list = function (data, act) {\n\tif (!data) return '';\n\tvar SELF = this;\n\n\tvar link, fragment = document.createDocumentFragment(), toplink = emptyNode.cloneNode();\n\n\tfragment.appendChild(toplink);\n\n\tvar inst = data.get();\n\n\tif (isArray(inst)) {\n\t\tfor (var i = 0; i < inst.length; i++) {\n\t\t\tinst[i+'__ob__'].watch((v) => {});\n\t\t\tfragment.appendChild(\n\t\t\t\tact.call(SELF, inst[i], i)\n\t\t\t);\n\t\t}\n\t} else {\n\t\tvar i = 0;\n\t\tfor (var key in inst) {\n\t\t\tinst[i+'__ob__'].watch((v) => {});\n\t\t\tfragment.appendChild(\n\t\t\t\tact.call(SELF, inst[key], key, i)\n\t\t\t);\n\t\t\ti++;\n\t\t}\n\t}\n\n\tlink = fragment.lastChild;\n\n\tvar w = function(a, b) {\n\t\tif (a > 0) {\n\t\t\tvar start = b.length - a;\n\t\t\tfor (var i = start; i < b.length; i++) {\n\t\t\t\tb[i+'__ob__'].watch((v) => {});\n\t\t\t\tfragment.appendChild(\n\t\t\t\t\tact.call(SELF, b[i], i)\n\t\t\t\t);\n\t\t\t}\n\t\t\tvar temp = fragment.lastChild;\n\t\t\tlink.parentElement.insertBefore(fragment, link.nextSibling);\n\t\t\tlink = temp;\n\t\t} else\n\t\tif (a < 0) {\n\t\t\tfor (var i = 0; i < Math.abs(a); i++) {\n\t\t\t\tvar templink = link.previousSibling;\n\t\t\t\tlink.parentElement.removeChild(link);\n\t\t\t\tlink = templink;\n\t\t\t}\n\t\t}\n\t};\n\n\tif (data.watch) data.watch(w);\n\tif (data.get && data.get()._r_get) data.get()._r_get(w);\n\n\treturn fragment;\n};\n\nconst link = function (fn, watch, txt) {\n\tvar args = { s: null }, SELF = this, n, f = fn.bind(this);\n\n\tif (txt.length === 1 && fn.toString()\n\t\t\t\t.replace(/(function \\(\\)\\{ return |\\(|\\)|\\; \\})/g, '')\n\t\t\t\t.trim() === txt[0]) {\n\t\treturn watch[0];\n\t}\n\n\tfor (var i = 0; i < watch.length; i++) {\n\t\tif (isWatchable(watch[i])) {\n\t\t\tn = true;\n\t\t\twatch[i].watch(function () {\n\t\t\t\targs.s = f(SELF);\n\t\t\t});\n\t\t}\n\t}\n\n\targs.s = f(SELF);\n\n\tif (!n) return args.s;\n\treturn watchable(args, 's');\n};\n\nconst cond = function (a, e) {\n\treturn new Condition(a, e)\n};\nvar Condition = function Condition (a, e) {\n\tthis.cases = [{a:a,e:e}];\n\tthis.w = [];\n\tthis.els = emptyNode.cloneNode();\n\n\tif (isWatchable(a)) { this.w.push(a); }\n\n\tthis.watch = function(cb) {\n\t\tfor (var w in this.w) {\n\t\t\tthis.w[w].watch(cb);\n\t\t}\n\t};\n\n\tthis.__do = function() {\n\t\tvar ret = {id: null};\n\t\tfor (var c in this.cases) {\n\t\t\tvar a = isWatchable(this.cases[c].a) ? this.cases[c].a.get() : this.cases[c].a;\n\t\t\tif (a) {\n\t\t\t\tret.id = c;\n\t\t\t\tret.r = this.cases[c].e;\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\tif (typeof ret.r === 'undefined') ret.r = this.els;\n\t\treturn ret\n\t};\n};\nCondition.prototype.elseif = function (a, e) {\n\tthis.cases.push({a:a,e:e});\n\tif (isWatchable(a)) { this.w.push(a); }\n\treturn this\n};\nCondition.prototype.cond = Condition.prototype.elseif;\nCondition.prototype.else = function (e) {\n\tthis.els = e;\n\treturn this\n};\n\nconst l = function (f, w, c) {\n\tif (!w) {\n\t\treturn f\n\t} else {\n\t\treturn link.call(this, f, w, c.split(','))\n\t}\n};\n\nconst use = function (plug) {\n\tif (typeof window.radi[plug] === 'function') {\n\t\twindow.radi[plug]();\n\t} else {\n\t\tconsole.warn('[Radi.js] Warn: Cannot find plugin `', plug);\n\t}\n};\n\nconst freeze = () => { frozenState = true; };\nconst unfreeze = () => {\n\tfrozenState = false;\n\n\tfor (var ii = 0; ii < activeComponents.length; ii++) {\n\t\tif (typeof activeComponents[ii].$this.onMount === 'function') {\n\t\t\tactiveComponents[ii].$this.onMount.call(activeComponents[ii].$this);\n\t\t}\n\t}\n};\n\nexports.version = version;\nexports.activeComponents = activeComponents;\nexports.text = text;\nexports.r = r;\nexports.component = component;\nexports.mount = mount;\nexports.list = list;\nexports.link = link;\nexports.cond = cond;\nexports.l = l;\nexports.use = use;\nexports.freeze = freeze;\nexports.unfreeze = unfreeze;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=radi.js.map\n"]}