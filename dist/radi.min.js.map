{"version":3,"sources":["dist/radi.js"],"names":["global","factory","exports","module","define","amd","radi","this","STRIP_COMMENTS","FIND_L","RL","charCodeAt","RR","HASH","DOT","TAGNAME","ID","CLASSNAME","frozenState","registered","isArray","o","Array","clone","obj","i","ret","Object","prototype","toString","call","len","length","hasOwnProperty","createElement","query","ns","ref","tag","id","className","mode","buffer","char","isHash","isDot","parseQuery","element","document","createElementNS","setAttribute","arg","arrayMods","v","s","__radi","defineProperties","value","reverse","bind","push","splice","pop","shift","ids","activeComponents","unmountAll","el","unmount","children","mountAll","mount","setAttr","view","arg1","arg2","self","getEl","undefined","setStyle","isWatchable","cache","get","style","$e","on","path","e","isString","key","source","prop","emit","isFunction","temp","innerHTML","parent","nodeType","a","isNumber","isNode","NW","isCondition","Condition","isComponent","text","str","createTextNode","htmlCache","memoizeHTML","r","args","arguments","props","cloneNode","createDocumentFragment","radiArgs","appendChild","$render","__do","watch","b","parentNode","replaceChild","z","component","fn","replace","match","exec","cursor","$view","n","index","all","input","_l","_r","found","substr","m","obs","split","last","join","newString","concat","Component","name","state","actions","SELF","__path","populate","to","ii","defineProperty","getOwnPropertyDescriptor","set","watcher","targ","oldval","setter","newval","constructor","String","apply","enumerable","WATCH","[object Object]","list","Error","$id","$name","$state","$props","$actions","$html","$parent","Function","ll","cond","$link","destroy","oldRootElem","parentElement","newRootElem","insertBefore","removeChild","onMount","onDestroy","extend","p","k","console","warn","comp","where","getElementById","out","emptyNode","data","act","link","fragment","toplink","cacheLen","lastChild","nextSibling","Math","abs","templink","previousSibling","w","linkNum","txt","t","f","trim","cases","els","cb","c","l","freeze","unfreeze","elseif","else","pack","version","window","$Radi","use","plugin","register"],"mappings":"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","sourcesContent":["(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.radi = {})));\n}(this, (function (exports) { 'use strict';\n\nconst version = '0.1.3';\n\nvar STRIP_COMMENTS = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg;\nvar FIND_L = /\\bl\\(/g;\nvar RL = '('.charCodeAt(0);\nvar RR = ')'.charCodeAt(0);\nvar HASH = '#'.charCodeAt(0);\nvar DOT = '.'.charCodeAt(0);\n\nvar TAGNAME = 0;\nvar ID = 1;\nvar CLASSNAME = 2;\n\nvar frozenState = false;\nvar registered = {};\n\nfunction isArray (o) { return Array.isArray(o) === true }\n\nif (!Array.isArray) {\n\tArray.isArray = function (arg) {\n\t\treturn Object.prototype.toString.call(arg) === '[object Array]';\n\t};\n}\n\nfunction clone(obj) {\n\tvar i, ret;\n\tif (typeof obj === \"object\") {\n\t\tif (obj === null) return obj;\n\t\tif (Object.prototype.toString.call(obj) === \"[object Array]\") {\n\t\t\tvar len = obj.length;\n\t\t\tret = new Array(len);\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tif (typeof obj[i] === \"object\") {\n\t\t\t\t\tret[i] = clone(obj[i]);\n\t\t\t\t} else {\n\t\t\t\t\tret[i] = obj[i];\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tret = {};\n\t\t\tfor (i in obj) {\n\t\t\t\tif (obj.hasOwnProperty(i)) {\n\t\t\t\t\tif (typeof(obj[i] === \"object\")) {\n\t\t\t\t\t\tret[i] = clone(obj[i]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tret[i] = obj[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tret = obj;\n\t}\n\n\treturn ret;\n}\n\nfunction parseQuery(query) {\n\tvar tag = null;\n\tvar id = null;\n\tvar className = null;\n\tvar mode = TAGNAME;\n\tvar buffer = '';\n\n\tfor (var i = 0; i <= query.length; i++) {\n\t\tvar char = query.charCodeAt(i);\n\t\tvar isHash = char === HASH;\n\t\tvar isDot = char === DOT;\n\t\tvar isEnd = !char;\n\n\t\tif (isHash || isDot || isEnd) {\n\t\t\tif (mode === TAGNAME) {\n\t\t\t\tif (i === 0) {\n\t\t\t\t\ttag = 'div';\n\t\t\t\t} else {\n\t\t\t\t\ttag = buffer;\n\t\t\t\t}\n\t\t\t} else if (mode === ID) {\n\t\t\t\tid = buffer;\n\t\t\t} else {\n\t\t\t\tif (className) {\n\t\t\t\t\tclassName += ' ' + buffer;\n\t\t\t\t} else {\n\t\t\t\t\tclassName = buffer;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (isHash) {\n\t\t\t\tmode = ID;\n\t\t\t} else if (isDot) {\n\t\t\t\tmode = CLASSNAME;\n\t\t\t}\n\n\t\t\tbuffer = '';\n\t\t} else {\n\t\t\tbuffer += query[i];\n\t\t}\n\t}\n\n\treturn { tag: tag, id: id, className: className };\n}\n\nfunction createElement(query, ns) {\n\tvar ref = parseQuery(query);\n\tvar tag = ref.tag;\n\tvar id = ref.id;\n\tvar className = ref.className;\n\tvar element = ns ? document.createElementNS(ns, tag) : document.createElement(tag);\n\n\tif (id) {\n\t\telement.id = id;\n\t}\n\n\tif (className) {\n\t\tif (ns) {\n\t\t\telement.setAttribute('class', className);\n\t\t} else {\n\t\t\telement.className = className;\n\t\t}\n\t}\n\n\treturn element;\n}\n\nvar arrayMods = function (v, s) {\n\tif (!isArray(v) || v.__radi) return false\n\treturn Object.defineProperties(v, {\n\t\t__radi: { value: true },\n\t\treverse: { value: s.bind('reverse') },\n\t\tpush: { value: s.bind('push') },\n\t\tsplice: { value: s.bind('splice') },\n\t\tpop: { value: s.bind('pop') },\n\t\tshift: { value: s.bind('shift') }\n\t})\n};\n\nvar ids = 0;\nconst activeComponents = [];\n\nfunction Radi(o) {\n\tvar SELF = {\n\t\t__path: 'this'\n\t};\n\n\tObject.defineProperties(SELF, {\n\t\t$e: {\n\t\t\tenumerable: false,\n\t\t\tvalue: {\n\t\t\t\tWATCH: {},\n\t\t\t\tget(path) {\n\t\t\t\t\treturn SELF.$e.WATCH[path] || (SELF.$e.WATCH[path] = [])\n\t\t\t\t},\n\t\t\t\ton(path, fn) {\n\t\t\t\t\tif (frozenState) return null\n\t\t\t\t\treturn SELF.$e.get(path).push(fn)\n\t\t\t\t},\n\t\t\t\temit(path, r) {\n\t\t\t\t\tif (frozenState) return null\n\t\t\t\t\tvar list = SELF.$e.get(path), len = list.length;\n\t\t\t\t\tfor (var i = 0; i < len; i++) {\n\t\t\t\t\t\tlist[i](path, r);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction populate(to, path) {\n\t\tvar ret;\n\t\tif (typeof to !== 'object' || !to) return false;\n\t  ret = (typeof to.__path === 'undefined') ? Object.defineProperty(to, '__path', { value: path }) : false;\n\t  for (var ii in to) {\n\t    if (to.hasOwnProperty(ii) && !Object.getOwnPropertyDescriptor(to, ii).set) {\n\t      if (typeof to[ii] === 'object') populate(to[ii], path + '.' + ii);\n\t      // Initiate watcher if not already watched\n\t      watcher(to, ii, path.concat('.').concat(ii));\n\t      // Trigger changes for this path\n\t\t\t\tSELF.$e.emit(path + '.' + ii, to[ii]);\n\t    }\n\t  }\n\t\treturn ret\n\t}\n\n\tfunction watcher(targ, prop, path) {\n\t  var oldval = targ[prop],\n\t\t\tsetter = function (newval) {\n\t      if (oldval !== newval) {\n\t        if (Array.isArray(oldval)) {\n\t\t\t\t\t\tvar ret;\n\t          if (this && this.constructor === String) {\n\t\t\t\t\t\t\tret = Array.prototype[this].apply(oldval, arguments);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\toldval = newval;\n\t\t\t\t\t\t\tarrayMods(oldval, setter);\n\t          }\n\n\t\t\t\t\t\tpopulate(oldval, path);\n\t\t\t\t\t\tSELF.$e.emit(path, oldval);\n\t\t\t\t\t\treturn ret;\n\t        } else if (typeof newval === 'object') {\n\t\t\t\t\t\toldval = clone(newval);\n\t\t\t\t\t\tpopulate(oldval, path);\n\t\t\t\t\t\tSELF.$e.emit(path, oldval);\n\t        } else {\n\t          oldval = newval;\n\t\t\t\t\t\tpopulate(oldval, path);\n\t\t\t\t\t\tSELF.$e.emit(path, oldval);\n\t        }\n\t        return newval\n\t      } else {\n\t        return false\n\t      }\n\t    };\n\n\t  if (Array.isArray(oldval)) arrayMods(oldval, setter);\n\n\t  if (delete targ[prop]) {\n\t    Object.defineProperty(targ, prop, {\n\t      get: function () {\n\t        return oldval;\n\t      },\n\t      set: setter,\n\t      enumerable: true,\n\t      configurable: true\n\t    });\n\t  }\n\t}\n\n\tfor (var i in o.state) {\n\t\tif (typeof SELF[i] === 'undefined') {\n\t\t\tSELF[i] = o.state[i];\n\t\t} else {\n\t\t\tthrow new Error('[Radi.js] Err: Trying to write state for reserved variable `' + i + '`');\n\t\t}\n\t}\n\n\tfor (var i in o.props) {\n\t\tif (typeof SELF[i] === 'undefined') {\n\t\t\tif (isWatchable(o.props[i])) {\n\t\t\t\tSELF[i] = o.props[i].get();\n\n\t\t\t\tif (o.props[i].parent) {\n\t\t\t\t\to.props[i].parent().$e.on(o.props[i].path, (e, a) => {\n\t\t\t\t\t\tSELF[i] = a;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tSELF[i] = o.props[i];\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new Error('[Radi.js] Err: Trying to write prop for reserved variable `' + i + '`');\n\t\t}\n\t}\n\n\tpopulate(SELF, 'this');\n\n\tfor (var i in o.actions) {\n\t\tif (typeof SELF[i] === 'undefined') {\n\t\t\tSELF[i] = (function() {\n\t\t\t\tif (frozenState) return null\n\t\t\t\treturn o.actions[this].apply(SELF, arguments);\n\t\t\t}).bind(i);\n\t\t} else {\n\t\t\tthrow new Error('[Radi.js] Error: Trying to write action for reserved variable `' + i + '`');\n\t\t}\n\t}\n\n\tObject.defineProperties(SELF, {\n\t\t$id: {\n\t\t\tenumerable: false,\n\t\t\tvalue: ids++\n\t\t},\n\t\t$name: {\n\t\t\tenumerable: false,\n\t\t\tvalue: o.name\n\t\t},\n\t\t$state: {\n\t\t\tenumerable: false,\n\t\t\tvalue: o.state || {}\n\t\t},\n\t\t$props: {\n\t\t\tenumerable: false,\n\t\t\tvalue: o.props || {}\n\t\t},\n\t\t$actions: {\n\t\t\tenumerable: false,\n\t\t\tvalue: o.actions || {}\n\t\t},\n\t\t$html: {\n\t\t\tenumerable: false,\n\t\t\tvalue: document.createDocumentFragment()\n\t\t},\n\t\t$parent: {\n\t\t\tenumerable: false,\n\t\t\tvalue: null\n\t\t},\n\t\t$view: {\n\t\t\tenumerable: false,\n\t\t\tvalue: new Function('r','list','ll','cond','return ' + o.$view)(\n\t\t\t\tr.bind(SELF), list.bind(SELF), ll.bind(SELF), cond.bind(SELF)\n\t\t\t)\n\t\t},\n\t\t$render: {\n\t\t\tenumerable: false,\n\t\t\tvalue: function() {\n\t\t\t\tSELF.mount();\n\t\t\t\treturn SELF.$html\n\t\t\t}\n\t\t},\n\t});\n\n\tObject.defineProperties(SELF, {\n\t\t$link: {\n\t\t\tenumerable: false,\n\t\t\tvalue: SELF.$view()\n\t\t}\n\t});\n\n\tSELF.$html.appendChild(SELF.$link);\n\n\tSELF.$html.destroy = function () {\n\t\tconst oldRootElem = SELF.$link.parentElement;\n\t\tconst newRootElem = oldRootElem.cloneNode(false);\n\t\toldRootElem.parentNode.insertBefore(newRootElem, oldRootElem);\n\t\tSELF.unmount();\n\t\toldRootElem.parentNode.removeChild(oldRootElem);\n\t};\n\n\tSELF.mount = function () {\n\t\tif (typeof SELF.$actions.onMount === 'function') {\n\t\t\tSELF.$actions.onMount.call(SELF);\n\t\t}\n\t\tactiveComponents.push(SELF);\n\t};\n\n\tSELF.unmount = function () {\n\t\tif (typeof SELF.$actions.onDestroy === 'function') {\n\t\t\tSELF.$actions.onDestroy.call(SELF);\n\t\t}\n\t\tfor (var i = 0; i < activeComponents.length; i++) {\n\t\t\tif (activeComponents[i].$id === SELF.$id) {\n\t\t\t\tactiveComponents.splice(i, 1);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn SELF.$link;\n\t};\n\n\tSELF.$link.unmount = SELF.unmount.bind(SELF);\n\tSELF.$link.mount = SELF.mount.bind(SELF);\n\n\treturn SELF\n}\n\nfunction unmountAll(el) {\n\tif (typeof el.unmount === 'function') el.unmount();\n\tif (el.children && el.children.length > 0) {\n\t\tfor (var i = 0; i < el.children.length; i++) {\n\t\t\tunmountAll(el.children[i]);\n\t\t}\n\t}\n}\n\nfunction mountAll(el) {\n\tif (typeof el.mount === 'function') el.mount();\n\tif (el.children && el.children.length > 0) {\n\t\tfor (var i = 0; i < el.children.length; i++) {\n\t\t\tmountAll(el.children[i]);\n\t\t}\n\t}\n}\n\nfunction radiMutate(c) {\n\tc();\n}\n\nfunction setStyle(view, arg1, arg2) {\n\tvar self = this;\n\tvar el = getEl(view);\n\n\tif (isWatchable(arg2)) {\n\t\tvar cache = arg2.get();\n\t\tel.style[arg1] = cache;\n\n\t\t// Update bind\n\t\t(function(cache, arg1, arg2){\n\t\t\tself.$e.on(arg2.path, function(e, v) {\n\t\t\t\tif (v === cache) return false\n\t\t\t\tradiMutate(() => {\n\t\t\t\t\tel.style[arg1] = v;\n\t\t\t\t});\n\t\t\t\tcache = v;\n\t\t\t});\n\t\t})(cache, arg1, arg2);\n\t} else if (arg2 !== undefined) {\n\t\tel.style[arg1] = arg2;\n\t} else if (isString(arg1)) {\n\t\tel.setAttribute('style', arg1);\n\t} else {\n\t\tfor (var key in arg1) {\n\t\t\tsetStyle.call(this, el, key, arg1[key]);\n\t\t}\n\t}\n}\n\nfunction setAttr(view, arg1, arg2) {\n\tvar self = this;\n\tvar el = getEl(view);\n\n\tif (arg2 !== undefined) {\n\t\tif (arg1 === 'style') {\n\t\t\tsetStyle.call(this, el, arg2);\n\t\t} else if (arg1 === 'model' && isWatchable(arg2)) {\n\t\t\tvar cache = arg2.get();\n\t\t\tel.value = cache;\n\t\t\tel['oninput'] = function () { arg2.source[arg2.prop] = cache = el.value; self.$e.emit(arg2.path, el.value); };\n\t\t\t// Update bind\n\t\t\t(function(cache, arg1, arg2){\n\t\t\t\tself.$e.on(arg2.path, function(e, v) {\n\t\t\t\t\tif (v === cache) return false\n\t\t\t\t\tradiMutate(() => {\n\t\t\t\t\t\tel.value = v;\n\t\t\t\t\t});\n\t\t\t\t\tcache = v;\n\t\t\t\t});\n\t\t\t})(cache, arg1, arg2);\n\t\t} else if (isFunction(arg2)) {\n\t\t\tel[arg1] = function (e) { arg2.call(self, e); };\n\t\t} else if (isWatchable(arg2)) {\n\t\t\tvar temp = arg2.get();\n\t\t\tif (isFunction(temp)) {\n\t\t\t\tel[arg1] = function (e) { arg2.get().call(self, e); };\n\t\t\t} else {\n\t\t\t\tvar cache = arg2.get();\n\t\t\t\tif (cache !== false)\n\t\t\t\t\tif (arg1 === 'html') {\n\t\t\t\t\t\tel.innerHTML = cache;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tel.setAttribute(arg1, cache);\n\t\t\t\t\t}\n\n\t\t\t\t// Update bind\n\t\t\t\t(function(cache, arg1, arg2){\n\t\t\t\t\tself.$e.on(arg2.path, function(e, v) {\n\t\t\t\t\t\tif (v === cache) return false\n\t\t\t\t\t\tradiMutate(() => {\n\t\t\t\t\t\t\tif (v !== false) {\n\t\t\t\t\t\t\t\tif (arg1 === 'html') {\n\t\t\t\t\t\t\t\t\tel.innerHTML = v;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tel.setAttribute(arg1, v);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tel.removeAttribute(arg1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcache = v;\n\t\t\t\t\t});\n\t\t\t\t})(cache, arg1, arg2);\n\t\t\t}\n\t\t} else {\n\t\t\tif (cache !== false)\n\t\t\t\tif (arg1 === 'html') {\n\t\t\t\t\tel.innerHTML = arg2;\n\t\t\t\t} else {\n\t\t\t\t\tel.setAttribute(arg1, arg2);\n\t\t\t\t}\n\t\t}\n\t} else {\n\t\tfor (var key in arg1) {\n\t\t\tsetAttr.call(this, el, key, arg1[key]);\n\t\t}\n\t}\n}\n\nvar getEl = function (parent) { return (parent.nodeType && parent) || (!parent.el && parent) || getEl(parent.el); };\n\nvar isString = function (a) { return typeof a === 'string'; };\nvar isNumber = function (a) { return typeof a === 'number'; };\nvar isFunction = function (a) { return typeof a === 'function'; };\n\nvar isNode = function (a) { return a && a.nodeType; };\nvar isWatchable = function (a) { return a && a instanceof NW; };\nvar isCondition = function (a) { return a && a instanceof Condition; };\nvar isComponent = function (a) { return a && a.__radi; };\n\nconst text = function (str) { return document.createTextNode(str); };\n\nfunction radiArgs(element, args) {\n\tvar self = this;\n\tfor (var i = 0; i < args.length; i++) {\n\t\tvar arg = args[i];\n\n\t\tif (arg !== 0 && !arg) {\n\t\t\tcontinue;\n\t\t}\n\n\t\t// support middleware\n\t\tif (isComponent(arg)) {\n\t\t\telement.appendChild(arg.__radi().$render());\n\t\t} else if (isCondition(arg)) {\n\t\t\tvar arg2 = arg.__do(), a, id = arg2.id;\n\t\t\tif (isComponent(arg2.r)) {\n\t\t\t\ta = arg2.r.__radi().$render();\n\t\t\t} else if (typeof arg2.r === 'function') {\n\t\t\t\ta = arg2.r();\n\t\t\t} else if (isString(arg2.r) || isNumber(arg2.r)) {\n\t\t\t\ta = text(arg2.r);\n\t\t\t} else {\n\t\t\t\ta = arg2.r;\n\t\t\t}\n\t\t\telement.appendChild(a);\n\t\t\t(function(arg){\n\t\t\t\targ.watch(function(v) {\n\t\t\t\t\tvar arg2 = arg.__do(), b;\n\t\t\t\t\tif (id === arg2.id) return false\n\t\t\t\t\tif (isComponent(arg2.r)) {\n\t\t\t\t\t\tb = arg2.r.__radi().$render();\n\t\t\t\t\t} else if (typeof arg2.r === 'function') {\n\t\t\t\t\t\tb = arg2.r();\n\t\t\t\t\t} else if (isString(arg2.r) || isNumber(arg2.r)) {\n\t\t\t\t\t\tb = text(arg2.r);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tb = arg2.r;\n\t\t\t\t\t}\n\t\t\t\t\tunmountAll(a);\n\t\t\t\t\ta.parentNode.replaceChild(b, a);\n\t\t\t\t\ta = b;\n\t\t\t\t\tmountAll(a);\n\t\t\t\t\tid = arg2.id;\n\t\t\t\t});\n\t\t\t})(arg);\n\t\t} else if (typeof arg === 'function') {\n\t\t\targ.call(this, element);\n\t\t} else if (isString(arg) || isNumber(arg)) {\n\t\t\telement.appendChild(text(arg));\n\t\t} else if (isNode(getEl(arg))) {\n\t\t\telement.appendChild(arg);\n\t\t} else if (Array.isArray(arg)) {\n\t\t\tradiArgs.call(this, element, arg);\n\t\t} else if (isWatchable(arg)) {\n\t\t\tvar cache = arg.get();\n\t\t\tlet z = text(cache);\n\t\t\telement.appendChild(z);\n\n\t\t\t// Update bind\n\t\t\t(function(cache, arg){\n\t\t\t\tself.$e.on(arg.path, function(e, v) {\n\t\t\t\t\tif (v === cache) return false\n\t\t\t\t\tradiMutate(() => {\n\t\t\t\t\t\tz.textContent = v;\n\t\t\t\t\t});\n\t\t\t\t\tcache = v;\n\t\t\t\t});\n\t\t\t})(cache, arg);\n\t\t} else if (typeof arg === 'object') {\n\t\t\tsetAttr.call(this, element, arg);\n\t\t}\n\n\t}\n}\n\nvar htmlCache = {};\n\nfunction memoizeHTML(query) { return htmlCache[query] || (htmlCache[query] = createElement(query)); }\n\nfunction r(query) {\n\tvar args = [], len = arguments.length - 1;\n\twhile ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n\tvar element;\n\n\tif (isString(query)) {\n\t\tif (typeof registered[query] !== 'undefined') {\n      // TODO: Make props and childs looped,\n\t\t\t// aka don't assume that first obj are props\n\t\t\tvar props = args[0] || {};\n\t\t\treturn element = new registered[query]().props(props);\n\t\t} else {\n\t\t\telement = memoizeHTML(query).cloneNode(false);\n\t\t}\n\t} else if (isNode(query)) {\n\t\telement = query.cloneNode(false);\n\t} else {\n\t\telement = document.createDocumentFragment();\n\t}\n\n\tradiArgs.call(this, element, args);\n\n\treturn element;\n}\nr.extend = function (query) {\n\tvar args = [], len = arguments.length - 1;\n\twhile ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n\tvar clone = memoizeHTML(query);\n\n\treturn r.bind.apply(r, [ this, clone ].concat( args ));\n};\n\nfunction component(o) {\n\tvar fn = o.view.toString().replace(STRIP_COMMENTS, ''),\n\t\tmatch = FIND_L.exec(fn),\n\t\tcursor = 0;\n\to.$view = '';\n\n\twhile (match !== null) {\n\t\tvar n = match.index,\n\t\t\tall = match.input,\n\t\t\t_l = 1,\n\t\t\t_r = 0;\n\n\t\tconst len = all.length;\n\n\t\tfor (var i = n + 2; i < len; i++) {\n\t\t\tvar char = all.charCodeAt(i);\n\t\t\tif (char === RL) {\n\t\t\t\t_l += 1;\n\t\t\t} else\n\t\t\tif (char === RR) {\n\t\t\t\t_r += 1;\n\t\t\t}\n\t\t\tif (_l === _r) break;\n\t\t}\n\n\t\tvar found = all.substr(n, i + 1 - n);\n\n\t\tvar m = found.match(/[a-zA-Z_$]+(?:\\.\\w+(?:\\[.*\\])?)+/g) || [];\n\t\t// var obs = (m.length > 0) ? m.join('__ob__,') + '__ob__' : '';\n\t\tvar obs = [];\n\t\tfor (var i = 0; i < m.length; i++) {\n\t\t\tvar temp = m[i].split('.');\n\t\t\tif (temp.length > 1) {\n\t\t\t\tvar last = temp.splice(-1)[0];\n\t\t\t\tobs.push('[' + temp.join('.') + ', \"' + last + '\"]');\n\t\t\t}\n\t\t}\n\t\tvar obs = obs.join(',');\n\t\tvar newString = 'll(function(){ return ' + found.substr(1) + '; },[' + obs + '], \"' + m.join(',') + '\")';\n\n\t\to.$view = o.$view.concat(fn.substr(cursor, n - cursor)).concat(newString);\n\t\tcursor = n + found.length;\n\n\t\tmatch = FIND_L.exec(fn);\n\t}\n\to.$view = o.$view.concat(fn.substr(cursor, fn.length - cursor));\n\n\treturn Component.bind(this, o);\n}\nfunction Component(o) {\n\tthis.o = {\n\t\tname: o.name,\n\t\tstate: clone(o.state),\n\t\tprops: clone(o.props),\n\t\tactions: o.actions,\n\t\tview: o.view,\n\t\t$view: o.$view,\n\t};\n\n\tthis.__radi = function() { return new Radi(this.o); };\n}\nComponent.prototype.props = function props(p) {\n\tfor (var k in p) {\n\t\tif (typeof this.o.props[k] === 'undefined') {\n\t\t\tconsole.warn('[Radi.js] Warn: Creating a prop `', k, '` that is not defined in component');\n\t\t}\n\t\tthis.o.props[k] = p[k];\n\t}\n\treturn this;\n};\n\nconst mount = function (comp, id) {\n\tconst where = (id.constructor === String) ? document.getElementById(id) : id;\n\tvar out = (comp instanceof Component) ? comp.__radi().$render() : comp;\n\twhere.appendChild(out);\n\treturn out;\n};\n\nvar emptyNode = text('');\n\nconst list = function (data, act) {\n\tif (!data) return '';\n\tvar SELF = this;\n\n\tvar link, fragment = document.createDocumentFragment(), toplink = emptyNode.cloneNode();\n\n\tfragment.appendChild(toplink);\n\n\tvar cache = data.source[data.prop] || [];\n\tvar cacheLen = cache.length || 0;\n\n\tif (isArray(cache)) {\n\t\tfor (var i = 0; i < cacheLen; i++) {\n\t\t\tfragment.appendChild(\n\t\t\t\tact.call(SELF, cache[i], i)\n\t\t\t);\n\t\t}\n\t} else {\n\t\tvar i = 0;\n\t\tfor (var key in cache) {\n\t\t\tfragment.appendChild(\n\t\t\t\tact.call(SELF, cache[key], key, i)\n\t\t\t);\n\t\t\ti++;\n\t\t}\n\t}\n\n\tlink = fragment.lastChild;\n\n\tvar w = function(a, b) {\n\t\tif (a > 0) {\n\t\t\tvar len = b.length;\n\t\t\tvar start = len - a;\n\t\t\tfor (var i = start; i < len; i++) {\n\t\t\t\tfragment.appendChild(\n\t\t\t\t\tact.call(SELF, b[i], i)\n\t\t\t\t);\n\t\t\t}\n\t\t\tvar temp = fragment.lastChild;\n\t\t\tlink.parentElement.insertBefore(fragment, link.nextSibling);\n\t\t\tlink = temp;\n\t\t} else\n\t\tif (a < 0) {\n\t\t\tfor (var i = 0; i < Math.abs(a); i++) {\n\t\t\t\tvar templink = link.previousSibling;\n\t\t\t\tlink.parentElement.removeChild(link);\n\t\t\t\tlink = templink;\n\t\t\t}\n\t\t}\n\t};\n\n\tif (cache.__path) {\n\t\tvar len = cacheLen;\n\t\tSELF.$e.on(cache.__path, function(e, v) {\n\t\t\tw(v.length - len, v);\n\t\t\tlen = v.length;\n\t\t});\n\t}\n\n\treturn fragment;\n};\n\n\nfunction NW(source, prop, parent) {\n  this.path = source.__path + '.' + prop;\n  this.get = () => (source[prop]);\n  this.source = source;\n  this.prop = prop;\n  this.parent = parent;\n}\n\nvar linkNum = 0;\n\nconst link = function (fn, watch, txt) {\n\tvar args = {s: null,a: [],t: [],f: fn.toString()}, SELF = this;\n\n\tif (txt.length === 1 && fn.toString()\n\t\t\t\t.replace(/(function \\(\\)\\{ return |\\(|\\)|\\; \\})/g, '')\n\t\t\t\t.trim() === txt[0]) {\n\t\treturn new NW(watch[0][0], watch[0][1], function () { return SELF; })\n\t}\n\n\tvar len = watch.length;\n\n\targs.s = fn.call(this);\n\targs.a = new Array(len);\n\targs.t = new Array(len);\n\targs.__path = '$link-' + linkNum;\n\tlinkNum += 1;\n\n\tfor (var i = 0; i < len; i++) {\n\t\targs.a[i] = watch[i][0][watch[i][1]];\n\t\targs.t[i] = '$rdi[' + i + ']';\n\t\targs.f = args.f.replace(txt[i], args.t[i]);\n\t\t// args.f = args.f.replace(new RegExp(txt[i], 'g'), args.t[i]);\n\t\t(function(path, args, p, i) {\n\t\t\tSELF.$e.on(path, (e, v) => {\n\t\t\t\targs.a[i] = v;\n\t\t\t\tvar cache = args.f.call(SELF, args.a);\n\n\t\t\t\tif (args.s !== cache) {\n\t\t\t\t\targs.s = cache;\n\t\t\t\t\tSELF.$e.emit(p, args.s);\n\t\t\t\t}\n\t\t\t});\n\t\t})(watch[i][0].__path + '.' + watch[i][1], args, args.__path + '.s', i);\n\t}\n\n\targs.f = new Function('$rdi', 'return ' + args.f + '();');\n\n\tif (len <= 0) return args.s;\n\treturn new NW(args, 's', function () { return SELF; });\n};\n\nfunction cond (a, e) {\n\treturn new Condition(a, e, this)\n}\nfunction Condition (a, e, SELF) {\n\tthis.cases = [{a:a,e:e}];\n\tthis.w = [];\n\tthis.cache = [];\n\tthis.els = emptyNode.cloneNode();\n\n\tif (isWatchable(a)) { this.w.push(a); }\n\n\tthis.watch = function(cb) {\n\t\tfor (var w in this.w) {\n\t\t\t(function(w) {\n\t\t\t\tSELF.$e.on(this.w[w].path, (e, v) => {\n\t\t\t\t\tcb(v);\n\t\t\t\t});\n\t\t\t}).call(this,w);\n\t\t}\n\t};\n\n\tthis.__do = function() {\n\t\tvar ret = {id: null};\n\t\tfor (var c in this.cases) {\n\t\t\tvar a = isWatchable(this.cases[c].a) ? this.cases[c].a.get() : this.cases[c].a;\n\t\t\tif (a) {\n\t\t\t\tret.id = c;\n\t\t\t\tret.r = this.cases[c].e;\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\tif (typeof ret.r === 'undefined') ret.r = this.els;\n\t\treturn ret\n\t};\n}\nCondition.prototype.elseif = function (a, e) {\n\tthis.cases.push({a:a,e:e});\n\tif (isWatchable(a)) { this.w.push(a); }\n\treturn this\n};\nCondition.prototype.cond = Condition.prototype.elseif;\nCondition.prototype.else = function (e) {\n\tthis.els = e;\n\treturn this\n};\n\nfunction l (f) {\n\treturn f\n}\n\nfunction ll (f, w, c) {\n\tif (!w) {\n\t\treturn f\n\t} else {\n\t\treturn link.call(this, f, w, c.split(','))\n\t}\n}\n\nfunction freeze () {\n\tfrozenState = true;\n}\nfunction unfreeze () {\n\tfrozenState = false;\n\n\tfor (var ii = 0; ii < activeComponents.length; ii++) {\n\t\tif (typeof activeComponents[ii].onMount === 'function') {\n\t\t\tactiveComponents[ii].onMount.call(activeComponents[ii]);\n\t\t}\n\t}\n}\n\nconst pack = {\n\tversion: version,\n\tactiveComponents: activeComponents,\n\tr: r,\n\tl: l,\n\tcond: cond,\n\tcomponent: component,\n\tmount: mount,\n\tfreeze: freeze,\n\tunfreeze: unfreeze,\n};\n\nwindow.$Radi = pack;\n\nfunction use (plugin) {\n\treturn plugin(pack)\n}\n\nfunction register (c) {\n\tvar cmp = new c();\n\tvar n = cmp.o.name;\n\tif (!n) {\n\t\tconsole.warn('[Radi.js] Warn: Cannot register component without name');\n\t} else if (typeof registered[n] !== 'undefined') {\n\t\tconsole.warn('[Radi.js] Warn: Component with name \\'' + n + '\\' already registered');\n\t} else {\n\t\tregistered[n] = c;\n\t}\n}\n\nexports.version = version;\nexports.activeComponents = activeComponents;\nexports.text = text;\nexports.r = r;\nexports.component = component;\nexports.mount = mount;\nexports.list = list;\nexports.link = link;\nexports.cond = cond;\nexports.l = l;\nexports.ll = ll;\nexports.freeze = freeze;\nexports.unfreeze = unfreeze;\nexports.use = use;\nexports.register = register;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=radi.js.map\n"]}