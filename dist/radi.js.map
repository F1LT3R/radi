{"version":3,"file":"radi.js","sources":["../src/index.js"],"sourcesContent":["export const version = '0.0.2';\n\nvar STRIP_COMMENTS = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg;\nvar FIND_L = /\\bl\\(/g;\n\nvar RL = '('.charCodeAt(0);\nvar RR = ')'.charCodeAt(0);\nvar HASH = '#'.charCodeAt(0);\nvar DOT = '.'.charCodeAt(0);\n\nvar TAGNAME = 0;\nvar ID = 1;\nvar CLASSNAME = 2;\n\nvar frozenState = false;\n\nvar _op = Object.prototype,\nisObject = function (o) { return o && o.__proto__ === _op },\nisArray = function (o) { return Array.isArray(o) === true }\n\nfunction clone(obj) {\n\tvar i, ret, ret2;\n\tif (typeof obj === \"object\") {\n\t\tif (obj === null) return obj;\n\t\tif (Object.prototype.toString.call(obj) === \"[object Array]\") {\n\t\t\tvar len = obj.length;\n\t\t\tret = new Array(len);\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tif (typeof obj[i] === \"object\") {\n\t\t\t\t\tret[i] = clone(obj[i]);\n\t\t\t\t} else {\n\t\t\t\t\tret[i] = obj[i];\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tret = {};\n\t\t\tfor (i in obj) {\n\t\t\t\tif (obj.hasOwnProperty(i)) {\n\t\t\t\t\tif (typeof(obj[i] === \"object\")) {\n\t\t\t\t\t\tret[i] = clone(obj[i]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tret[i] = obj[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tret = obj;\n\t}\n\n\treturn ret;\n}\n\nObject.defineProperties(Object, {\n\trelocate: {\n\t\tconfigurable: true,\n\t\tenumerable: false,\n\t\tvalue: function relocate(what, wit) {\n\t\t\tfor (var key in wit) {\n\t\t\t\tconst end = wit[key]\n\t\t\t\tvar change = false\n\t\t\t\tif (end && typeof end === 'object' && !(end instanceof Radi)) {\n\t\t\t\t\tif (typeof what[key] === 'undefined') what[key] = end.constructor()\n\t\t\t\t\tObject.relocate(what[key], end)\n\t\t\t\t\tchange = true\n\t\t\t\t} else {\n\t\t\t\t\tif (what[key] !== end) {\n\t\t\t\t\t\tchange = true\n\t\t\t\t\t\twhat[key] = end\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (change) populateOne(what, key)\n\t\t\t}\n\t\t},\n\t\twritable: true\n\t}\n});\n\nvar arrayProxy = function arrayProxy() {\n\tvar l1 = this[0].length,\n\t\t\tarr = clone(this[0]),\n\t\t\t// arr = this[0],\n\t\t\tret = Array.prototype[this[1]].apply(arr, arguments),\n\t\t\tl2 = arr.length,\n\t\t\tdiff = l2 - l1\n\n\tthis[0].length = l2\n\n\tif (diff < 0) {\n\t\tfor (var i = l1; i > l1 + diff; i--) {\n\t\t\tdelete this[0][(i-1)+'__ob__']\n\t\t\tdelete this[0][(i-1)]\n\t\t}\n\t}\n\n\tObject.relocate(this[0], arr)\n\n\tif (diff !== 0) {\n\t\tthis[0]._r_set(diff, this[0])\n\t}\n\n\treturn ret\n}\n\nvar arrayRules = function arrayRules(item, def) {\n\t// TODO: Creaete _r_set loop with array of bucket\n\t// var bucket = []\n\tvar bucket = () => {},\n\t\ta = (v) => ({ value: function () { return arrayProxy.apply([this, v], arguments) } })\n\tdef._r_set = { value: function (v) { if (frozenState) return false; bucket(v, item) } }\n\tdef._r_get = { value: function (cb) { bucket = cb } }\n\tdef.push = a('push')\n\tdef.pop = a('pop')\n\tdef.splice = a('splice')\n\tdef.shift = a('shift')\n\tdef.unshift = a('unshift')\n\tdef.reverse = a('reverse')\n}\n\nvar populateOne = function populateOne(item, ii) {\n\tif (typeof item[ii + '__ob__'] !== 'undefined') return false\n\n\tvar def = { __r: { value: true } }\n\n\t// If input is an Array\n\tif (isArray(item) && typeof item.__r === 'undefined' && !item.__r) {\n\t\tarrayRules(item, def)\n\t}\n\n\tdef[ii + '__ob__'] = { value: watchable(item, ii), configurable: true }\n\n\tif (typeof item[ii] === 'object') populate(item[ii])\n\n\treturn Object.defineProperties(item, def)\n}\n\n// Add watchers to every object and array\nvar populate = function populate(item) {\n\tif (item && typeof item === 'object') {\n\t\tvar def = { __r: { value: true } }\n\n\t\t// If input is an Array\n\t\tif (isArray(item)) {\n\t\t\tif (typeof item.__r === 'undefined' && !item.__r) {\n\t\t\t\tarrayRules(item, def)\n\t\t\t}\n\n\t\t\tfor (var ii in item) {\n\t\t\t\t// Add watchable\n\t\t\t\t// Should not be able to reconfigure this\n\t\t\t\tif (typeof item[ii + '__ob__'] === 'undefined') {\n\t\t\t\t\tdef[ii + '__ob__'] = { value: watchable(item, ii), configurable: true }\n\t\t\t\t\tpopulate(item[ii])\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else\n\t\t// If input is an Object\n\t\tif (isObject(item)) {\n\n\t\t\tfor (var ii in item) {\n\t\t\t\t// Add watchable\n\t\t\t\t// Should not be able to reconfigure this\n\t\t\t\tif (typeof item[ii + '__ob__'] === 'undefined') {\n\t\t\t\t\tdef[ii + '__ob__'] = { value: watchable(item, ii), configurable: true }\n\t\t\t\t\tpopulate(item[ii])\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t\treturn Object.defineProperties(item, def)\n\t} else { return false }\n}\n\nvar watchable = function (data, prop) { return new Watchable(data, prop) }\n\nvar Watchable = function Watchable (data, prop) {\n\tvar temp = data;\n\n\tthis.watch = function watch (c) {\n\t\twatcher(temp, prop, (p, prev, next) => {\n\t\t\tc(next, prev)\n\t\t\treturn next\n\t\t})\n\t}\n\n\tthis.prop = prop\n\tthis.data = function data () {\n\t\treturn temp\n\t}\n\n\tthis.get = function get () {\n\t\treturn temp[prop]\n\t}\n}\n\nvar dsc = Object.getOwnPropertyDescriptor\nvar watcher = function watcher(targ, prop, handler) {\n\tvar oldval = targ[prop],\n\t\tprev = (typeof dsc(targ, prop) !== 'undefined') ? dsc(targ, prop).set : null,\n\t\tsetter = function (newval) {\n\t\t\tif (frozenState) return false\n\t\t\tif (oldval !== newval) {\n\t\t\t\tif (isObject(newval)) {\n\n\t\t\t\t\tObject.relocate(oldval, newval)\n\t\t\t\t} else\n\t\t\t\tif (isArray(newval)) {\n\t\t\t\t\tvar diff = newval.length - oldval.length\n\t\t\t\t\toldval.length = newval.length\n\n\t\t\t\t\tObject.relocate(oldval, newval)\n\t\t\t\t\tnewval = diff\n\t\t\t\t} else {\n\t\t\t\t\toldval = newval\n\t\t\t\t}\n\t\t\t\tif (typeof prev === 'function') prev(newval)\n\t\t\t\thandler.call(targ, prop, oldval, newval)\n\t\t\t} else {\n\t\t\t\treturn false\n\t\t\t}\n\t\t}\n\n\tif (delete targ[prop]) {\n\t\tObject.defineProperty(targ, prop, {\n\t\t\tget: function () {\n\t\t\t\treturn oldval;\n\t\t\t},\n\t\t\tset: setter,\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true\n\t\t})\n\t}\n}\n\n\nvar parseQuery = function (query) {\n\tvar tag = null;\n\tvar id = null;\n\tvar className = null;\n\tvar mode = TAGNAME;\n\tvar buffer = '';\n\n\tfor (var i = 0; i <= query.length; i++) {\n\t\tvar char = query.charCodeAt(i);\n\t\tvar isHash = char === HASH;\n\t\tvar isDot = char === DOT;\n\t\tvar isEnd = !char;\n\n\t\tif (isHash || isDot || isEnd) {\n\t\t\tif (mode === TAGNAME) {\n\t\t\t\tif (i === 0) {\n\t\t\t\t\ttag = 'div';\n\t\t\t\t} else {\n\t\t\t\t\ttag = buffer;\n\t\t\t\t}\n\t\t\t} else if (mode === ID) {\n\t\t\t\tid = buffer;\n\t\t\t} else {\n\t\t\t\tif (className) {\n\t\t\t\t\tclassName += ' ' + buffer;\n\t\t\t\t} else {\n\t\t\t\t\tclassName = buffer;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (isHash) {\n\t\t\t\tmode = ID;\n\t\t\t} else if (isDot) {\n\t\t\t\tmode = CLASSNAME;\n\t\t\t}\n\n\t\t\tbuffer = '';\n\t\t} else {\n\t\t\tbuffer += query[i];\n\t\t}\n\t}\n\n\treturn { tag: tag, id: id, className: className };\n};\n\nvar createElement = function (query, ns) {\n\tvar ref = parseQuery(query);\n\tvar tag = ref.tag;\n\tvar id = ref.id;\n\tvar className = ref.className;\n\tvar element = ns ? document.createElementNS(ns, tag) : document.createElement(tag);\n\n\tif (id) {\n\t\telement.id = id;\n\t}\n\n\tif (className) {\n\t\tif (ns) {\n\t\t\telement.setAttribute('class', className);\n\t\t} else {\n\t\t\telement.className = className;\n\t\t}\n\t}\n\n\treturn element;\n};\n\nif (!Array.isArray) {\n\tArray.isArray = function(arg) {\n\t\treturn Object.prototype.toString.call(arg) === '[object Array]';\n\t};\n}\n\n\nvar ids = 0;\nexport const activeComponents = [];\n\nclass Radi {\n\tconstructor(o) {\n\t\tvar state = o.state || {},\n\t\t\tprops = o.props || {},\n\t\t\tactions = o.actions || {},\n\t\t\tview = o.view;\n\n\t\tthis.$id = ids++;\n\n\t\tthis.$this = {};\n\t\tvar SELF = this.$this;\n\n\t\tfor (var k in state) {\n\t\t\tif (typeof SELF[k] === 'undefined') {\n\t\t\t\tSELF[k] = state[k];\n\t\t\t} else {\n\t\t\t\tthrow new Error('[Radi.js] Err: Trying to write state for reserved variable `' + k + '`');\n\t\t\t}\n\t\t}\n\n\t\tfor (var k in props) {\n\t\t\tif (typeof SELF[k] === 'undefined') {\n\t\t\t\tif (isWatchable(props[k])) {\n\t\t\t\t\tSELF[k] = props[k].get();\n\t\t\t\t\tprops[k].watch(function (a) {\n\t\t\t\t\t\tSELF[k] = a;\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tSELF[k] = props[k];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthrow new Error('[Radi.js] Err: Trying to write prop for reserved variable `' + k + '`');\n\t\t\t}\n\t\t}\n\n\t\tpopulate(SELF);\n\t\tvar data = SELF;\n\n\t\tfor (var k in actions) {\n\t\t\tif (typeof SELF[k] === 'undefined') {\n\t\t\t\tconst act = actions[k];\n\t\t\t\tSELF[k] = function () { return (frozenState) ? function () {} : act.apply(SELF, arguments) };\n\n\t\t\t\t(function(SELF, k) {\n\t\t\t\t\tObject.defineProperty(SELF[k], 'props', {\n\t\t\t\t\t\tvalue() {\n\t\t\t\t\t\t\tvar args = arguments;\n\t\t\t\t\t\t\treturn function () { return (frozenState) ? function () {} : SELF[k].apply(SELF, args, arguments) }\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t})(SELF, k)\n\t\t\t} else {\n\t\t\t\tthrow new Error('[Radi.js] Error: Trying to write action for reserved variable `' + k + '`');\n\t\t\t}\n\t\t}\n\n\t\tSELF.$id = this.$id;\n\t\tSELF.$name = o.name;\n\t\tSELF.$state = state;\n\t\tSELF.$props = props;\n\t\tSELF.$actions = actions;\n\t\t// SELF.$data = data;\n\n\t\tthis.$html = document.createDocumentFragment();\n\n\t\tthis.$view = new Function(\n\t\t\t'r',\n\t\t\t'list',\n\t\t\t'l',\n\t\t\t'cond',\n\t\t\t// 'return ' + output\n\t\t\t'return ' + o.$view\n\t\t)(\n\t\t\tr.bind(SELF),\n\t\t\tlist.bind(SELF),\n\t\t\tl.bind(SELF),\n\t\t\tcond.bind(SELF)\n\t\t);\n\n\t\t// console.log(this.$view);\n\n\t\tthis.$link = this.$view.apply(SELF);\n\n\t\tif (this.$link instanceof Component || Array.isArray(this.$link)) {\n\t\t\tthis.$link = r.call(SELF, null, this.$link);\n\t\t}\n\t\tthis.$html.appendChild(this.$link);\n\n\t\tthis.$html.destroy = (function () {\n\t\t\tconst oldRootElem = this.$link.parentElement;\n\t\t\tconst newRootElem = oldRootElem.cloneNode(false);\n\t\t\toldRootElem.parentNode.insertBefore(newRootElem, oldRootElem);\n\t\t\tthis.unmount();\n\t\t\toldRootElem.parentNode.removeChild(oldRootElem);\n\t\t}).bind(this);\n\n\t\tthis.mount = function () {\n\t\t\tif (typeof actions.onMount === 'function') {\n\t\t\t\tactions.onMount.call(SELF)\n\t\t\t}\n\t\t\tactiveComponents.push(this);\n\t\t};\n\n\t\tthis.unmount = function () {\n\t\t\tif (typeof actions.onDestroy === 'function') {\n\t\t\t\tactions.onDestroy.call(SELF)\n\t\t\t}\n\t\t\tfor (var i = 0; i < activeComponents.length; i++) {\n\t\t\t\tif (activeComponents[i].$id === this.$id) {\n\t\t\t\t\tactiveComponents.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.$link;\n\t\t};\n\t}\n\n\tget remount() {\n\t\tthis.mount();\n\t\treturn this.link;\n\t}\n\n\tget out() {\n\t\tthis.mount();\n\t\treturn this.$html;\n\t}\n}\n\nvar radiMutate = function (c) {\n\t// window.requestAnimationFrame(() => {\n\t\t// window.requestAnimationFrame(() => {\n\t\t\tc();\n\t\t// });\n\t// });\n}\n\nvar setStyle = function (view, arg1, arg2) {\n\tvar el = getEl(view);\n\n\tif (isWatchable(arg2)) {\n\t\tel.style[arg1] = arg2.get();\n\t\t// Update bind\n\t\targ2.watch((a) => {\n\t\t\tradiMutate(() => {\n\t\t\t\tel.style[arg1] = a;\n\t\t\t});\n\t\t});\n\t} else if (arg2 !== undefined) {\n\t\tel.style[arg1] = arg2;\n\t} else if (isString(arg1)) {\n\t\tel.setAttribute('style', arg1);\n\t} else {\n\t\tfor (var key in arg1) {\n\t\t\tsetStyle(el, key, arg1[key]);\n\t\t}\n\t}\n};\n\nvar setAttr = function (view, arg1, arg2) {\n\tvar self = this;\n\tvar el = getEl(view);\n\n\tif (arg2 !== undefined) {\n\t\tif (arg1 === 'style') {\n\t\t\tsetStyle(el, arg2);\n\t\t} else if (arg1 === 'model' && isWatchable(arg2)) {\n\t\t\tel.value = arg2.get();\n\t\t\tel['oninput'] = function () { arg2.data()[arg2.prop] = el.value };\n\t\t\targ2.watch(function (a) {\n\t\t\t\tradiMutate(() => {\n\t\t\t\t\tel.value = a;\n\t\t\t\t});\n\t\t\t});\n\t\t} else if (isFunction(arg2)) {\n\t\t\tel[arg1] = function (e) { arg2.call(self, e); };\n\t\t} else if (isWatchable(arg2)) {\n\t\t\tel.setAttribute(arg1, arg2.get());\n\t\t\t// Update bind\n\t\t\targ2.watch(function (a) {\n\t\t\t\tradiMutate(() => {\n\t\t\t\t\tel.setAttribute(arg1, a);\n\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\tel.setAttribute(arg1, arg2);\n\t\t}\n\t} else {\n\t\tfor (var key in arg1) {\n\t\t\tsetAttr.call(this, el, key, arg1[key]);\n\t\t}\n\t}\n};\n\nvar ensureEl = function (parent) { return isString(parent) ? html(parent) : getEl(parent); };\nvar getEl = function (parent) { return (parent.nodeType && parent) || (!parent.el && parent) || getEl(parent.el); };\n\nvar isString = function (a) { return typeof a === 'string'; };\nvar isNumber = function (a) { return typeof a === 'number'; };\nvar isFunction = function (a) { return typeof a === 'function'; };\n\nvar isNode = function (a) { return a && a.nodeType; };\nvar isWatchable = function (a) { return a && a instanceof Watchable; };\nvar isCondition = function (a) { return a && a instanceof Condition; };\nvar isComponent = function (a) { return a && a.__radi; };\n\nexport const text = function (str) { return document.createTextNode(str); };\n\nvar radiArgs = function (element, args) {\n\tfor (var i = 0; i < args.length; i++) {\n\t\tvar arg = args[i];\n\n\t\tif (arg !== 0 && !arg) {\n\t\t\tcontinue;\n\t\t}\n\n\t\t// support middleware\n\t\tif (isComponent(arg)) {\n\t\t\telement.appendChild(arg.__radi().out);\n\t\t} else if (isCondition(arg)) {\n\t\t\tvar arg2 = arg.__do(), a, id = arg2.id\n\t\t\tif (isComponent(arg2.r)) {\n\t\t\t\ta = arg2.r.__radi().out;\n\t\t\t} else if (typeof arg2.r === 'function') {\n\t\t\t\ta = arg2.r();\n\t\t\t} else if (isString(arg2.r) || isNumber(arg2.r)) {\n\t\t\t\ta = text(arg2.r);\n\t\t\t} else {\n\t\t\t\ta = arg2.r;\n\t\t\t}\n\t\t\telement.appendChild(a);\n\t\t\t(function(arg){arg.watch(function(v) {\n\t\t\t\tvar arg2 = arg.__do(), b\n\t\t\t\tif (id === arg2.id) return false\n\t\t\t\tif (isComponent(arg2.r)) {\n\t\t\t\t\tb = arg2.r.__radi().out;\n\t\t\t\t} else if (typeof arg2.r === 'function') {\n\t\t\t\t\tb = arg2.r();\n\t\t\t\t} else if (isString(arg2.r) || isNumber(arg2.r)) {\n\t\t\t\t\tb = text(arg2.r);\n\t\t\t\t} else {\n\t\t\t\t\tb = arg2.r;\n\t\t\t\t}\n\t\t\t\ta.parentNode.replaceChild(b, a)\n\t\t\t\ta = b\n\t\t\t\tid = arg2.id\n\t\t\t})})(arg)\n\t\t} else if (typeof arg === 'function') {\n\t\t\targ.call(this, element);\n\t\t} else if (isString(arg) || isNumber(arg)) {\n\t\t\telement.appendChild(text(arg));\n\t\t} else if (isNode(getEl(arg))) {\n\t\t\telement.appendChild(arg);\n\t\t} else if (Array.isArray(arg)) {\n\t\t\tradiArgs.call(this, element, arg);\n\t\t} else if (isWatchable(arg)) {\n\t\t\tlet z = text(arg.get());\n\t\t\telement.appendChild(z);\n\t\t\t// Update bind\n\t\t\targ.watch(function (a) {\n\t\t\t\tradiMutate(() => {\n\t\t\t\t\tz.textContent = a;\n\t\t\t\t});\n\t\t\t});\n\t\t} else if (typeof arg === 'object') {\n\t\t\tsetAttr.call(this, element, arg);\n\t\t}\n\n\t}\n}\n\nvar htmlCache = {};\n\nvar memoizeHTML = function (query) { return htmlCache[query] || (htmlCache[query] = createElement(query)); };\n\nexport const r = function (query) {\n\tvar args = [], len = arguments.length - 1;\n\twhile ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n\tvar element;\n\n\tif (isString(query)) {\n\t\telement = memoizeHTML(query).cloneNode(false);\n\t} else if (isNode(query)) {\n\t\telement = query.cloneNode(false);\n\t} else {\n\t\telement = document.createDocumentFragment();\n\t}\n\n\tradiArgs.call(this, element, args);\n\n\treturn element;\n};\nr.extend = function (query) {\n\tvar args = [], len = arguments.length - 1;\n\twhile ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n\tvar clone = memoizeHTML(query);\n\n\treturn r.bind.apply(r, [ this, clone ].concat( args ));\n};\n\nexport const component = function (o) {\n\tvar fn = o.view.toString().replace(STRIP_COMMENTS, '')\n\tvar match = FIND_L.exec(fn);\n\tvar output = [];\n\tvar cursor = 0;\n\n\twhile (match !== null) {\n\t\tvar n = match.index,\n\t\t\tall = match.input,\n\t\t\t_l = 1,\n\t\t\t_r = 0\n\n\t\tconst len = all.length;\n\n\t\tfor (var i = n + 2; i < len; i++) {\n\t\t\tvar char = all.charCodeAt(i);\n\t\t\tif (char === RL) {\n\t\t\t\t_l += 1;\n\t\t\t} else\n\t\t\tif (char === RR) {\n\t\t\t\t_r += 1;\n\t\t\t}\n\t\t\tif (_l === _r) break;\n\t\t}\n\n\t\tvar found = all.substr(n, i + 1 - n);\n\n\t\tvar m = found.match(/[a-zA-Z_$]+(?:\\.\\w+(?:\\[.*\\])?)+/g) || [];\n\t\tvar obs = (m.length > 0) ? m.join('__ob__,') + '__ob__' : '';\n\t\tvar newString = 'l(function(){ return ' + found.substr(1) + '; },[' + obs + '], \"' + m.join(',') + '\")';\n\n\t\toutput.push(fn.substr(cursor, n - cursor));\n\t\toutput.push(newString);\n\t\tcursor = n + found.length;\n\n\t\tmatch = FIND_L.exec(fn);\n\t}\n\toutput.push(fn.substr(cursor, fn.length - cursor));\n\to.$view = output.join('');\n\n\treturn Component.bind(this, o);\n};\nvar Component = function Component (o) {\n\tthis.o = {\n\t\tname: o.name,\n\t\tstate: clone(o.state),\n\t\tprops: clone(o.props),\n\t\tactions: o.actions,\n\t\tview: o.view,\n\t\t$view: o.$view,\n\t};\n\n\tthis.__radi = function() { return new Radi(this.o); };\n};\nComponent.prototype.props = function props (p) {\n\tfor (var k in p) {\n\t\tif (typeof this.o.props[k] === 'undefined') {\n\t\t\tconsole.warn('[Radi.js] Warn: Creating a prop `', k, '` that is not defined in component');\n\t\t}\n\t\tthis.o.props[k] = p[k];\n\t}\n\treturn this;\n};\n\nexport const mount = function (comp, id) {\n\tconst where = (id.constructor === String) ? document.getElementById(id) : id;\n\tvar out = (comp instanceof Component) ? comp.__radi().out : comp;\n\twhere.appendChild(out);\n\treturn out;\n}\n\nvar emptyNode = text('');\n\nexport const list = function (data, act) {\n\tif (!data) return '';\n\tvar SELF = this;\n\n\tvar link, fragment = document.createDocumentFragment(), toplink = emptyNode.cloneNode();\n\n\tfragment.appendChild(toplink);\n\n\tvar ret = [];\n\tvar inst = data.get()\n\n\tif (isArray(inst)) {\n\t\tfor (var i = 0; i < inst.length; i++) {\n\t\t\tinst[i+'__ob__'].watch((v) => {})\n\t\t\tfragment.appendChild(\n\t\t\t\tact.call(SELF, inst[i], i)\n\t\t\t)\n\t\t}\n\t} else {\n\t\tvar i = 0\n\t\tfor (var key in inst) {\n\t\t\tinst[i+'__ob__'].watch((v) => {})\n\t\t\tfragment.appendChild(\n\t\t\t\tact.call(SELF, inst[key], key, i)\n\t\t\t)\n\t\t\ti++\n\t\t}\n\t}\n\n\tlink = fragment.lastChild;\n\n\tvar w = function(a, b) {\n\t\tif (a > 0) {\n\t\t\tvar start = b.length - a\n\t\t\tfor (var i = start; i < b.length; i++) {\n\t\t\t\tb[i+'__ob__'].watch((v) => {})\n\t\t\t\tfragment.appendChild(\n\t\t\t\t\tact.call(SELF, b[i], i)\n\t\t\t\t)\n\t\t\t}\n\t\t\tvar temp = fragment.lastChild\n\t\t\tlink.parentElement.insertBefore(fragment, link.nextSibling)\n\t\t\tlink = temp\n\t\t} else\n\t\tif (a < 0) {\n\t\t\tfor (var i = 0; i < Math.abs(a); i++) {\n\t\t\t\tvar templink = link.previousSibling\n\t\t\t\tlink.parentElement.removeChild(link)\n\t\t\t\tlink = templink\n\t\t\t}\n\t\t}\n\t}\n\n\tif (data.watch) data.watch(w)\n\tif (data.get && data.get()._r_get) data.get()._r_get(w)\n\n\treturn fragment;\n}\n\nexport const link = function (fn, watch, txt) {\n\tvar args = { s: null }, SELF = this, n, f = fn.bind(this);\n\n\tif (txt.length === 1 && fn.toString()\n\t\t\t\t.replace(/(function \\(\\)\\{ return |\\(|\\)|\\; \\})/g, '')\n\t\t\t\t.trim() === txt[0]) {\n\t\treturn watch[0];\n\t}\n\n\tfor (var i = 0; i < watch.length; i++) {\n\t\tif (isWatchable(watch[i])) {\n\t\t\tn = true;\n\t\t\twatch[i].watch(function () {\n\t\t\t\targs.s = f(SELF);\n\t\t\t});\n\t\t}\n\t}\n\n\targs.s = f(SELF);\n\n\tif (!n) return args.s;\n\treturn watchable(args, 's');\n}\n\nexport const cond = function (a, e) {\n\treturn new Condition(a, e)\n}\nvar Condition = function Condition (a, e) {\n\tthis.cases = [{a:a,e:e}]\n\tthis.w = []\n\tthis.els = emptyNode.cloneNode()\n\n\tif (isWatchable(a)) { this.w.push(a) }\n\n\tthis.watch = function(cb) {\n\t\tfor (var w in this.w) {\n\t\t\tthis.w[w].watch(cb)\n\t\t}\n\t}\n\n\tthis.__do = function() {\n\t\tvar ret = {id: null}\n\t\tfor (var c in this.cases) {\n\t\t\tvar a = isWatchable(this.cases[c].a) ? this.cases[c].a.get() : this.cases[c].a\n\t\t\tif (a) {\n\t\t\t\tret.id = c\n\t\t\t\tret.r = this.cases[c].e\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\tif (typeof ret.r === 'undefined') ret.r = this.els\n\t\treturn ret\n\t}\n}\nCondition.prototype.elseif = function (a, e) {\n\tthis.cases.push({a:a,e:e})\n\tif (isWatchable(a)) { this.w.push(a) }\n\treturn this\n}\nCondition.prototype.cond = Condition.prototype.elseif\nCondition.prototype.else = function (e) {\n\tthis.els = e\n\treturn this\n}\n\nexport const l = function (f, w, c) {\n\tif (!w) {\n\t\treturn f\n\t} else {\n\t\treturn link.call(this, f, w, c.split(','))\n\t}\n}\n\nexport const use = function (plug) {\n\tif (typeof window.radi[plug] === 'function') {\n\t\twindow.radi[plug]()\n\t} else {\n\t\tconsole.warn('[Radi.js] Warn: Cannot find plugin `', plug)\n\t}\n}\n\nexport const freeze = () => { frozenState = true }\nexport const unfreeze = () => {\n\tfrozenState = false\n\n\tfor (var ii = 0; ii < activeComponents.length; ii++) {\n\t\tif (typeof activeComponents[ii].$this.onMount === 'function') {\n\t\t\tactiveComponents[ii].$this.onMount.call(activeComponents[ii].$this)\n\t\t}\n\t}\n}\n"],"names":[],"mappings":"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"}